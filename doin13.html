<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ™LSTéŠæˆ²å®¤-ã€Šå¤¢å¢ƒé †åºå¤§æ‹¼åœ–ã€‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        
        .dream-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .dream-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .selected {
            border: 3px solid #fbbf24;
            transform: scale(1.05);
        }
        
        .correct-animation {
            animation: bounce 0.6s ease-in-out;
        }
        
        .wrong-animation {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .star-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }
        
        .star-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, #fff, transparent),
                radial-gradient(2px 2px at 40px 70px, #fff, transparent),
                radial-gradient(1px 1px at 90px 40px, #fff, transparent),
                radial-gradient(1px 1px at 130px 80px, #fff, transparent),
                radial-gradient(2px 2px at 160px 30px, #fff, transparent);
            background-repeat: repeat;
            background-size: 200px 100px;
            animation: twinkle 3s linear infinite;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.3; }
        }
    </style>
</head>
<body class="star-bg min-h-screen">
    <!-- å°é¢é  -->
    <div id="cover-page" class="min-h-screen flex items-center justify-center p-6">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl fade-in">
            <div class="text-6xl mb-6">ğŸŒ™âœ¨</div>
            <h1 class="text-4xl font-bold text-purple-800 mb-6">ğŸŒ™LSTéŠæˆ²å®¤-ã€Šå¤¢å¢ƒé †åºå¤§æ‹¼åœ–ã€‹</h1>
            <p class="text-lg text-gray-700 mb-8 leading-relaxed">
                æ­¡è¿ä¾†åˆ°å¤¢å¢ƒé †åºå¤§æ‹¼åœ–ï¼<br>
                æ¯ä¸€æ®µå¤¢ï¼Œéƒ½è—è‘—ä¸€å€‹é †åºç¥•å¯†ï½<br>
                å¿«ä¾†å¹«å¤¢å¢ƒæ‹¼å¥½å§ï¼
            </p>
            <button onclick="showInstructions()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-purple-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                ğŸ® é–‹å§‹éŠæˆ²
            </button>
            
            <!-- è¨­è¨ˆè€…è³‡è¨Š -->
            <div class="mt-8 pt-6 border-t border-purple-200 text-sm text-gray-600">
                <p class="mb-2">éŠæˆ²è¨­è¨ˆèˆ‡è£½ä½œï¼šå‘‚èˆ’å©·ï½œäº†è§£æ›´å¤šğŸ”</p>
                <p>è‡‰æ›¸æœå°‹ï¼šå‘‚èˆ’å©·ï½œğŸ“§ luuyobi@gmail.com</p>
            </div>
        </div>
    </div>

    <!-- éŠæˆ²èªªæ˜é  -->
    <div id="instructions-page" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl fade-in">
            <div class="text-5xl mb-6">ğŸ“–ğŸ§©</div>
            <h2 class="text-3xl font-bold text-purple-800 mb-6">éŠæˆ²è¦å‰‡</h2>
            <div class="text-left space-y-4 mb-8">
                <p class="text-lg text-gray-700">ğŸ“š è«‹ä»”ç´°é–±è®€å¤¢å¢ƒæ•…äº‹</p>
                <p class="text-lg text-gray-700">ğŸ¯ æ ¹æ“šæ™‚é–“é †åºæ’åˆ—åœ–ç‰‡å¡ç‰‡</p>
                <p class="text-lg text-gray-700">ğŸ² æ¯è¼ªæœ‰3é¡Œï¼Œé¡Œç›®éš¨æ©Ÿå‡ºç¾</p>
                <p class="text-lg text-gray-700">âœ¨ å®Œæˆæ‰€æœ‰é¡Œç›®ç²å¾—å¤¢å¢ƒå¤§å¸«ç¨±è™Ÿ</p>
            </div>
            <button onclick="showQuestionSelect()" class="bg-gradient-to-r from-blue-500 to-purple-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-blue-600 hover:to-purple-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                ğŸš€ é–‹å§‹æŒ‘æˆ°
            </button>
        </div>
    </div>

    <!-- é¡Œç›®é¸æ“‡å€ -->
    <div id="question-select-page" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl fade-in">
            <div class="text-5xl mb-6">ğŸ¯ğŸŒŸ</div>
            <h2 class="text-3xl font-bold text-purple-800 mb-6">é¸æ“‡ä½ çš„å¤¢å¢ƒæŒ‘æˆ°</h2>
            <p class="text-lg text-gray-700 mb-8">é»æ“Šä»»ä¸€æŒ‰éˆ•é–‹å§‹ä½ çš„å¤¢å¢ƒä¹‹æ—…</p>
            <div class="grid grid-cols-1 gap-4">
                <button onclick="startRandomQuestion()" class="bg-gradient-to-r from-pink-500 to-rose-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-pink-600 hover:to-rose-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                    ğŸŒ¸ å¤¢å¢ƒæŒ‘æˆ° A
                </button>
                <button onclick="startRandomQuestion()" class="bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-blue-600 hover:to-cyan-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                    ğŸŒŠ å¤¢å¢ƒæŒ‘æˆ° B
                </button>
                <button onclick="startRandomQuestion()" class="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-green-600 hover:to-emerald-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                    ğŸŒ¿ å¤¢å¢ƒæŒ‘æˆ° C
                </button>
            </div>
        </div>
    </div>

    <!-- éŠæˆ²é é¢ -->
    <div id="game-page" class="min-h-screen p-6 hidden">
        <div class="max-w-6xl mx-auto">
            <!-- é€²åº¦æ¢ -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 mb-6 shadow-lg">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-lg font-semibold text-purple-800">é€²åº¦</span>
                    <span id="progress-text" class="text-lg font-semibold text-purple-800">1/3</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div id="progress-bar" class="bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-500" style="width: 33%"></div>
                </div>
            </div>

            <!-- æ•…äº‹å€åŸŸ -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-lg">
                <h3 id="story-title" class="text-2xl font-bold text-purple-800 mb-4 text-center"></h3>
                <p id="story-content" class="text-lg text-gray-700 leading-relaxed text-center"></p>
            </div>

            <!-- åœ–ç‰‡å¡ç‰‡å€åŸŸ -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-lg">
                <h4 class="text-xl font-semibold text-purple-800 mb-4 text-center">è«‹æŒ‰ç…§æ•…äº‹é †åºé»æ“Šåœ–ç‰‡å¡ç‰‡</h4>
                <div id="cards-container" class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <!-- åœ–ç‰‡å¡ç‰‡å°‡åœ¨é€™è£¡å‹•æ…‹ç”Ÿæˆ -->
                </div>
                
                <!-- é¸æ“‡é †åºé¡¯ç¤º -->
                <div class="text-center">
                    <p class="text-lg font-semibold text-purple-800 mb-4">ä½ çš„é¸æ“‡é †åºï¼š</p>
                    <div id="selected-order" class="flex justify-center space-x-4 mb-6">
                        <div class="w-16 h-16 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400">1</div>
                        <div class="w-16 h-16 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400">2</div>
                        <div class="w-16 h-16 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400">3</div>
                    </div>
                    
                    <div class="space-x-4">
                        <button id="clear-btn" onclick="clearSelection()" class="bg-gradient-to-r from-gray-500 to-gray-600 text-white px-6 py-3 rounded-full text-lg font-semibold hover:from-gray-600 hover:to-gray-700 transform hover:scale-105 transition-all duration-300 shadow-lg">
                            ğŸ”„ æ¸…é™¤é‡é¸
                        </button>
                        <button id="submit-btn" onclick="checkAnswer()" class="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-8 py-3 rounded-full text-lg font-semibold hover:from-green-600 hover:to-emerald-600 transform hover:scale-105 transition-all duration-300 shadow-lg opacity-50 cursor-not-allowed" disabled>
                            âœ¨ ç¢ºèªç­”æ¡ˆ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- çµæœé é¢ -->
    <div id="result-page" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl">
            <div id="result-icon" class="text-6xl mb-6"></div>
            <h2 id="result-title" class="text-3xl font-bold mb-6"></h2>
            <p id="result-message" class="text-lg text-gray-700 mb-8"></p>
            <button id="next-btn" onclick="nextQuestion()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-purple-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                ä¸‹ä¸€é¡Œ â†’
            </button>
        </div>
    </div>

    <!-- å®Œæˆé é¢ -->
    <div id="completion-page" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl">
            <div class="text-6xl mb-6">ğŸ‰ğŸ‘‘</div>
            <h2 class="text-3xl font-bold text-purple-800 mb-6">æ­å–œä½ ï¼</h2>
            <p class="text-lg text-gray-700 mb-8">
                ä½ å®Œæˆäº†é€™è¼ªå¤¢å¢ƒæŒ‘æˆ°ï¼<br>
                ä½ å·²ç¶“æˆç‚ºå¤¢å¢ƒé †åºå¤§å¸«ï¼<br>
                æƒ³å†ç©ä¸€æ¬¡å—ï¼Ÿ
            </p>
            <div class="space-y-4">
                <button onclick="restartGame()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-purple-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg block w-full">
                    ğŸ”„ å†ç©ä¸€æ¬¡
                </button>
                <button onclick="showCover()" class="bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-blue-600 hover:to-cyan-600 transform hover:scale-105 transition-all duration-300 shadow-lg block w-full">
                    ğŸ  å›åˆ°é¦–é 
                </button>
            </div>
        </div>
    </div>

    <script>
        // éŠæˆ²æ•¸æ“š
        const dreamStories = [
            {
                title: "é¯¨é­šå¸¶æˆ‘å›å®¶",
                story: "æˆ‘å¤¢è¦‹è‡ªå·±é£›åˆ°äº†å¤©ç©ºï¼Œé¢¨è¼•è¼•å¹è‘—ï¼Œæˆ‘åƒç¾½æ¯›ä¸€æ¨£é£„åœ¨é›²æœµä¸Šã€‚å¿½ç„¶ï¼Œä¸€éš»å½©è‰²é¯¨é­šå¾é›²å±¤è£¡è·³å‡ºä¾†ï¼Œå°æˆ‘èªªï¼šã€Œæˆ‘å¸¶ä½ å»çœ‹ä¸€å€‹ç¥•å¯†ä¸–ç•Œå§ï¼ã€ç‰ è¼•è¼•è¼‰è‘—æˆ‘æ»‘éé›²æµ·ã€å½©è™¹å’Œæ˜Ÿæ˜Ÿï¼Œæœ€å¾ŒæŠŠæˆ‘æ”¾å›æˆ‘çš„åºŠé‚Šã€‚æˆ‘ä¸€çœçœ¼ï¼Œæ•é ­é‚Šç«Ÿæœ‰ä¸€ç‰‡é–ƒäº®çš„é­šé±—ï¼",
                cards: ["ğŸŒ¤ï¸ é£›ä¸Šå¤©ç©º", "ğŸ‹ å½©è‰²é¯¨é­š", "ğŸ  å›å®¶"],
                correct: [0, 1, 2]
            },
            {
                title: "é­”æ³•é‘°åŒ™çš„ä»»å‹™",
                story: "æ˜¨æ™šæˆ‘é€²å…¥äº†ä¸€æ£µè€æ¨¹çš„æ¨¹æ´ï¼Œè£¡é ­äº®è‘—æŸ”å’Œçš„ç‡ˆå…‰ã€‚ä¸€ä½ç²¾éˆéçµ¦æˆ‘ä¸€æŠŠéŠ€è‰²é‘°åŒ™ï¼Œèªªå®ƒå¯ä»¥æ‰“é–‹æ˜Ÿæ˜Ÿå±‹çš„é–€ã€‚æˆ‘èµ°é€²å¤œç©ºä¹‹ä¸­ï¼Œæ‰¾åˆ°äº†é‚£åº§é–ƒçˆçš„å±‹å­ï¼Œé‘°åŒ™æœç„¶æ‰“é–‹äº†å®ƒçš„å¤§é–€ã€‚è£¡é¢é£„æ»¿äº†æœƒèªªæ•…äº‹çš„æ˜Ÿæ˜Ÿï¼Œæˆ‘è½äº†ä¸€æ•´å¤œã€‚",
                cards: ["ğŸŒ³ æ¨¹æ´", "ğŸ—ï¸ éŠ€è‰²é‘°åŒ™", "â­ æ˜Ÿæ˜Ÿå±‹"],
                correct: [0, 1, 2]
            },
            {
                title: "é›¨å‚˜è®Šç†±æ°£çƒ",
                story: "å¤¢è£¡ï¼Œæˆ‘åœ¨é›¨ä¸­èµ°è‘—ï¼Œæ‰“é–‹äº†æˆ‘é‚£æŠŠé€æ˜é›¨å‚˜ã€‚å¿½ç„¶ï¼Œé›¨å‚˜é–‹å§‹è†¨è„¹ã€è½‰å‹•ï¼Œè®Šæˆäº†ä¸€é¡†å½©è‰²ç†±æ°£çƒï¼Œè¼‰è‘—æˆ‘é£›å‘å¤©ç©ºã€‚å¾é«˜ç©ºçœ‹ä¸‹å»ï¼ŒåŸå¸‚åƒç©æœ¨ï¼Œæ²³æµåƒç·å¸¶ï¼Œæ•´å€‹ä¸–ç•Œå¥½å°å¥½ç¾ã€‚æˆ‘å¤§å–Šï¼šã€Œæˆ‘è¦å»é›²ç«¯ç•¶æ¢éšªå®¶ï¼ã€",
                cards: ["â˜‚ï¸ æ‰“é–‹é›¨å‚˜", "ğŸˆ ç†±æ°£çƒ", "â˜ï¸ é£›ä¸Šå¤©ç©º"],
                correct: [0, 1, 2]
            },
            {
                title: "é¾çš„å¿ƒé¡˜",
                story: "æˆ‘èµ°é€²ä¸€å€‹é»‘æš—çš„å±±æ´ï¼Œæ‰‹ä¸Šæ¡è‘—ä¸€ç›å°ç‡ˆã€‚åœ¨æ´çš„æœ€æ·±è™•ï¼Œæˆ‘ç™¼ç¾ä¸€é¡†é–ƒé–ƒç™¼äº®çš„çŸ³é ­ã€‚ç•¶æˆ‘ç¢°åˆ°å®ƒæ™‚ï¼ŒçŸ³é ­è£‚é–‹äº†ï¼Œä¸€éš»è—è‰²å°é¾å†’å‡ºä¾†ã€‚ã€Œè¬è¬ä½ å–šé†’æˆ‘ï¼Œæˆ‘æ˜¯é€™åº§å±±çš„å®ˆè­·è€…ï¼ã€ç‰ èªªå®Œå°±å¸¶æˆ‘é£›å‡ºå±±æ´ï¼Œçœ‹è¦‹æ•´å€‹å±±è°·é–ƒçˆè‘—å¥‡å¹»çš„å…‰ã€‚",
                cards: ["ğŸ•³ï¸ å±±æ´", "ğŸ’ é–ƒäº®çŸ³é ­", "ğŸ² å°é¾"],
                correct: [0, 1, 2]
            },
            {
                title: "è¥¿ç“œæ¼”å”±æœƒ",
                story: "æˆ‘å¤¢è¦‹è‡ªå·±è‚šå­é¤“ï¼Œæ‰“é–‹å†°ç®±ï¼Œè£¡é ­ç«Ÿç„¶æœ‰ä¸€é¡†æœƒå”±æ­Œçš„è¥¿ç“œï¼ç‰ å”±å¾—è¶…å¥½è½ï¼Œé‚„é‚€è«‹æˆ‘å’Œç‰ ä¸€èµ·é–‹æ¼”å”±æœƒã€‚æˆ‘å€‘ç«™åœ¨æœæ±èˆå°ä¸Šå”±è·³ï¼Œè‰è“æ‰“é¼“ã€é³³æ¢¨æ‹‰å°æç´ï¼Œè§€çœ¾æ˜¯ååœ¨æœå‡æ¤…ä¸Šçš„å“ˆå¯†ç“œã€‚æˆ‘é†’ä¾†æ™‚å˜´è£¡é‚„å“¼è‘—é‚£é¦–è¥¿ç“œæ­Œã€‚",
                cards: ["ğŸ§Š å†°ç®±", "ğŸ‰ å”±æ­Œè¥¿ç“œ", "ğŸ¤ èˆå°"],
                correct: [0, 1, 2]
            },
            {
                title: "é£›åºŠå¤ªç©ºä¹‹æ—…",
                story: "æˆ‘åœ¨åºŠä¸Šç¡è‘—äº†ï¼Œçªç„¶åºŠé–‹å§‹éœ‡å‹•ï¼ŒåŒ–æˆä¸€è‰˜ç«ç®­ï¼Œå¸¶æˆ‘é£›å‘å¤ªç©ºã€‚æˆ‘å¾çª—æˆ¶æœ›å‡ºå»ï¼Œçœ‹è¦‹åœŸæ˜Ÿçš„ç’°ã€æœˆäº®çš„è‡‰å’Œæœƒé–ƒçš„æ˜Ÿæ˜Ÿã€‚æˆ‘åœ¨å¤ªç©ºåƒçˆ†ç±³èŠ±ï¼Œé‚„å’Œä¸€é¡†å‹å–„çš„æ˜Ÿæ˜Ÿæ“ŠæŒã€‚åºŠé™è½æ™‚ï¼Œæˆ‘ä¸€ç¿»èº«é†’ä¾†ï¼Œé‚„ä»¥ç‚ºè‡ªå·±çœŸçš„åœ¨å®‡å®™è£¡ï¼",
                cards: ["ğŸ›ï¸ åºŠ", "ğŸš€ ç«ç®­", "ğŸª æ˜Ÿçƒ"],
                correct: [0, 1, 2]
            },
            {
                title: "æ³¡æ³¡æ—…è¡Œå®¶",
                story: "å¤¢è£¡ï¼Œæˆ‘å–äº†ä¸€ç“¶äº®è—è‰²çš„è—¥æ°´ï¼Œèº«é«”ç«Ÿç„¶æ…¢æ…¢è®Šæˆä¸€å€‹å¤§æ³¡æ³¡ã€‚æˆ‘é£„å‡ºçª—æˆ¶ï¼Œé£›éå…¬åœ’ã€å­¸æ ¡ã€æµ·æ´‹ã€‚é€”ä¸­ï¼Œæˆ‘é‡åˆ°ä¸€ç¾¤æœƒå”±æ­Œçš„é³¥å…’ï¼Œå®ƒå€‘å¸¶æˆ‘é£›èˆã€æ—‹è½‰ã€‚æ³¡æ³¡æœ€å¾Œé™è½åœ¨æˆ‘å®¶å±‹é ‚ï¼Œæˆ‘ä¸€è·³é†’ï¼Œå˜´é‚Šé‚„æœ‰ä¸€åœˆæ³¡æ³¡ï¼",
                cards: ["ğŸ§ª è—¥æ°´", "ğŸ«§ æ³¡æ³¡", "ğŸ¦ é³¥"],
                correct: [0, 1, 2]
            },
            {
                title: "ç³–æœé›¨çš„ç§˜å¯†",
                story: "æˆ‘åœ¨å¤¢ä¸­ç¨®ä¸‹ä¸€é¡†äº”å½©ç³–æœç¨®å­ã€‚éäº†ä¸€æœƒå…’ï¼Œä¸€æ£µç³–æœæ¨¹é•·äº†å‡ºä¾†ï¼Œæé ­æ›æ»¿äº†æ£’æ£’ç³–ã€è»Ÿç³–ã€æ£‰èŠ±ç³–ã€‚å¿½ç„¶å¤©ç©ºé–‹å§‹ä¸‹èµ·ç³–æœé›¨ï¼Œæ¯é¡†ç³–éƒ½ç”œç”œçš„ã€é–ƒäº®äº®çš„ã€‚æˆ‘æ’è‘—é¤…ä¹¾é›¨å‚˜ï¼Œåœ¨é›¨ä¸­è·³èˆï¼Œé–‹å¿ƒæ¥µäº†ï¼",
                cards: ["ğŸŒ± ç³–æœç¨®å­", "ğŸŒ³ ç³–æœæ¨¹", "ğŸ­ ç³–æœé›¨"],
                correct: [0, 1, 2]
            },
            {
                title: "é›»è¦–å†’éšªè¨˜",
                story: "æˆ‘èººåœ¨å®¢å»³çœ‹å¡é€šï¼Œé›»è¦–å¿½ç„¶ç™¼å‡ºå…‰èŠ’ï¼ŒæŠŠæˆ‘å¸äº†é€²å»ï¼æˆ‘è®Šæˆå¡é€šè§’è‰²ï¼Œç©¿ä¸ŠæŠ«é¢¨ï¼Œå’Œä¸»è§’ä¸€èµ·é—–é—œã€å°æŠ—å¤§æ€ªç¸ã€‚æˆ‘å€‘ä¸€èµ·ç¬‘ã€ä¸€èµ·è·³ï¼Œæœ€å¾Œæ‰“æ•—å£è›‹ã€‚ç•¶æˆ‘å¾é›»è¦–è£¡è·³å‡ºä¾†æ™‚ï¼Œæ‰‹ä¸Šé‚„æ‹¿è‘—ä¸€å¼µå¡é€šå‹‡å£«è­‰æ˜æ›¸ï¼",
                cards: ["ğŸ“º é›»è¦–", "ğŸ¦¸ å¡é€šä¸»è§’", "âš”ï¸ å†’éšªå ´æ™¯"],
                correct: [0, 1, 2]
            },
            {
                title: "åœ°åœ–èˆ‡æœƒèªªè©±çš„æ›¸",
                story: "æˆ‘åœ¨æ£®æ—è£¡æ’¿åˆ°ä¸€å¼µå¤è€çš„åœ°åœ–ï¼Œå®ƒæŒ‡å¼•æˆ‘ç©¿éè¿·éœ§å’Œå°æ²³ï¼Œä¾†åˆ°ä¸€å€‹å¯¶ç®±å‰ã€‚æˆ‘æ‰“é–‹å®ƒï¼Œè£¡é ­ç«Ÿæ˜¯ä¸€æœ¬æ–‡å­—æœƒè‡ªå·±æµ®ç¾çš„æ›¸ã€‚ã€Œæˆ‘æ˜¯æ™‚é–“ä¹‹æ›¸ï¼Œä¾†æ•™ä½ ä¸–ç•Œçš„æ•…äº‹ã€‚ã€æ›¸èªªã€‚å®ƒä¸€é‚Šç¿»é ï¼Œä¸€é‚Šè®“æˆ‘çœ‹è¦‹å¤ä»Šä¸­å¤–çš„å¥‡å¹»ç•«é¢ã€‚",
                cards: ["ğŸ—ºï¸ åœ°åœ–", "ğŸ“¦ å¯¶ç®±", "ğŸ“š æ›¸"],
                correct: [0, 1, 2]
            }
        ];

        // éŠæˆ²ç‹€æ…‹
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let selectedCards = [];
        let currentStory = null;

        // é é¢åˆ‡æ›å‡½æ•¸
        function showPage(pageId) {
            document.querySelectorAll('[id$="-page"]').forEach(page => {
                page.classList.add('hidden');
            });
            document.getElementById(pageId).classList.remove('hidden');
        }

        function showCover() {
            showPage('cover-page');
        }

        function showInstructions() {
            showPage('instructions-page');
        }

        function showQuestionSelect() {
            showPage('question-select-page');
        }

        // é–‹å§‹éš¨æ©Ÿé¡Œç›®
        function startRandomQuestion() {
            // éš¨æ©Ÿé¸æ“‡3å€‹ä¸é‡è¤‡çš„é¡Œç›®
            const shuffled = [...dreamStories].sort(() => 0.5 - Math.random());
            currentQuestions = shuffled.slice(0, 3);
            currentQuestionIndex = 0;
            
            showQuestion();
        }

        // é¡¯ç¤ºé¡Œç›®
        function showQuestion() {
            currentStory = currentQuestions[currentQuestionIndex];
            selectedCards = [];
            
            // æ›´æ–°é€²åº¦
            document.getElementById('progress-text').textContent = `${currentQuestionIndex + 1}/3`;
            document.getElementById('progress-bar').style.width = `${((currentQuestionIndex + 1) / 3) * 100}%`;
            
            // é¡¯ç¤ºæ•…äº‹
            document.getElementById('story-title').textContent = currentStory.title;
            document.getElementById('story-content').textContent = currentStory.story;
            
            // å‰µå»ºæ‰“äº‚çš„å¡ç‰‡
            const shuffledCards = [...currentStory.cards].sort(() => 0.5 - Math.random());
            const cardsContainer = document.getElementById('cards-container');
            cardsContainer.innerHTML = '';
            
            shuffledCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'dream-card bg-gradient-to-br from-purple-100 to-pink-100 p-6 rounded-2xl text-center shadow-lg border-2 border-transparent';
                cardElement.innerHTML = `
                    <div class="text-4xl mb-3">${card.split(' ')[0]}</div>
                    <div class="text-lg font-semibold text-purple-800">${card.split(' ').slice(1).join(' ')}</div>
                `;
                cardElement.onclick = () => selectCard(card, cardElement);
                cardsContainer.appendChild(cardElement);
            });
            
            // é‡ç½®é¸æ“‡é †åºé¡¯ç¤º
            updateSelectedOrder();
            
            showPage('game-page');
        }

        // é¸æ“‡å¡ç‰‡
        function selectCard(card, element) {
            if (selectedCards.includes(card)) return;
            
            selectedCards.push(card);
            element.classList.add('selected');
            element.style.pointerEvents = 'none';
            
            updateSelectedOrder();
            
            if (selectedCards.length === 3) {
                document.getElementById('submit-btn').disabled = false;
                document.getElementById('submit-btn').classList.remove('opacity-50', 'cursor-not-allowed');
            }
        }

        // æ›´æ–°é¸æ“‡é †åºé¡¯ç¤º
        function updateSelectedOrder() {
            const orderContainer = document.getElementById('selected-order');
            const slots = orderContainer.children;
            
            for (let i = 0; i < 3; i++) {
                if (selectedCards[i]) {
                    slots[i].innerHTML = selectedCards[i].split(' ')[0];
                    slots[i].className = 'w-16 h-16 border-2 border-purple-500 bg-purple-100 rounded-lg flex items-center justify-center text-2xl';
                } else {
                    slots[i].innerHTML = i + 1;
                    slots[i].className = 'w-16 h-16 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center text-gray-400';
                }
            }
        }

        // æ¸…é™¤é¸æ“‡
        function clearSelection() {
            selectedCards = [];
            
            // é‡ç½®æ‰€æœ‰å¡ç‰‡ç‹€æ…‹
            const cards = document.querySelectorAll('.dream-card');
            cards.forEach(card => {
                card.classList.remove('selected');
                card.style.pointerEvents = 'auto';
            });
            
            // é‡ç½®é¸æ“‡é †åºé¡¯ç¤º
            updateSelectedOrder();
            
            // ç¦ç”¨ç¢ºèªæŒ‰éˆ•
            document.getElementById('submit-btn').disabled = true;
            document.getElementById('submit-btn').classList.add('opacity-50', 'cursor-not-allowed');
        }

        // æª¢æŸ¥ç­”æ¡ˆ
        function checkAnswer() {
            const isCorrect = selectedCards.every((card, index) => {
                return card === currentStory.cards[currentStory.correct[index]];
            });
            
            const resultPage = document.getElementById('result-page');
            const resultIcon = document.getElementById('result-icon');
            const resultTitle = document.getElementById('result-title');
            const resultMessage = document.getElementById('result-message');
            
            if (isCorrect) {
                resultIcon.textContent = 'âœ¨ğŸ‰';
                resultTitle.textContent = 'å¤¢å¢ƒå®Œæˆï¼';
                resultTitle.className = 'text-3xl font-bold mb-6 text-green-600';
                resultMessage.textContent = 'ä½ è§£é–‹äº†é †åºä¹‹è¬ï¼å¤¢å¢ƒæ•…äº‹å®Œç¾é‡ç¾ï¼';
                resultPage.querySelector('.bg-white\\/90').classList.add('correct-animation');
            } else {
                resultIcon.textContent = 'âŒğŸ˜…';
                resultTitle.textContent = 'é †åºéŒ¯äº†';
                resultTitle.className = 'text-3xl font-bold mb-6 text-red-600';
                resultMessage.textContent = 'å†è©¦ä¸€æ¬¡ï½ä»”ç´°æƒ³æƒ³æ•…äº‹çš„æ™‚é–“é †åºå“¦ï¼';
                resultPage.querySelector('.bg-white\\/90').classList.add('wrong-animation');
                
                // éŒ¯èª¤æ™‚è¿”å›é‡æ–°é¸æ“‡
                document.getElementById('next-btn').textContent = 'ğŸ”„ é‡æ–°æŒ‘æˆ°';
                document.getElementById('next-btn').onclick = () => {
                    resultPage.querySelector('.bg-white\\/90').classList.remove('wrong-animation');
                    showQuestion();
                };
                showPage('result-page');
                return;
            }
            
            // æ­£ç¢ºç­”æ¡ˆçš„è™•ç†
            document.getElementById('next-btn').onclick = nextQuestion;
            if (currentQuestionIndex === 2) {
                document.getElementById('next-btn').textContent = 'ğŸŠ æŸ¥çœ‹çµæœ';
            } else {
                document.getElementById('next-btn').textContent = 'ä¸‹ä¸€é¡Œ â†’';
            }
            
            showPage('result-page');
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            document.getElementById('result-page').querySelector('.bg-white\\/90').classList.remove('correct-animation');
            
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= 3) {
                showPage('completion-page');
            } else {
                showQuestion();
            }
        }

        // é‡æ–°é–‹å§‹éŠæˆ²
        function restartGame() {
            currentQuestions = [];
            currentQuestionIndex = 0;
            selectedCards = [];
            showQuestionSelect();
        }

        // åˆå§‹åŒ–
        showCover();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'969d82a171c6f1d0',t:'MTc1NDMwNDc5OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
