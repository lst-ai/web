<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LSTéŠæˆ²å®¤-å‹•ç‰©è®Šèº«è—¥æ°´</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #f0f9ff;
            overflow-x: hidden;
        }
        .animal-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .animal-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }
        .sensory-experience {
            height: 300px;
            position: relative;
            overflow: hidden;
        }
        .bat-vision {
            filter: grayscale(100%) brightness(0.7) contrast(1.5);
            animation: echolocation 3s infinite;
        }
        .shark-vision {
            filter: hue-rotate(180deg) saturate(0.8) brightness(0.7);
        }
        .bee-vision {
            filter: saturate(2) contrast(1.3) brightness(1.2);
            animation: beeView 5s infinite;
        }
        .cheetah-vision {
            filter: saturate(1.5) contrast(1.2);
            animation: fastMovement 2s infinite;
        }
        .owl-vision {
            filter: brightness(1.5) contrast(1.3) sepia(0.3);
        }
        .whale-vision {
            filter: blur(1px) brightness(0.7) saturate(0.8);
            animation: underwater 8s infinite;
        }
        .polar-vision {
            filter: brightness(1.5) contrast(1.2) saturate(0.5);
        }
        @keyframes echolocation {
            0%, 100% { filter: grayscale(100%) brightness(0.7) contrast(1.5); }
            50% { filter: grayscale(100%) brightness(0.9) contrast(2); }
        }
        @keyframes beeView {
            0%, 100% { filter: saturate(2) contrast(1.3) brightness(1.2); }
            50% { filter: saturate(2.5) contrast(1.5) brightness(1.4) hue-rotate(20deg); }
        }
        @keyframes fastMovement {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
        }
        @keyframes underwater {
            0%, 100% { filter: blur(1px) brightness(0.7) saturate(0.8); }
            50% { filter: blur(2px) brightness(0.6) saturate(0.7) hue-rotate(10deg); }
        }
        .sensory-clue {
            position: absolute;
            width: 40px;
            height: 40px;
            background-color: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            animation: pulse 2s infinite;
            z-index: 10;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7); }
            70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(255, 255, 255, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 255, 255, 0); }
        }
        .potion-bottle {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        .diary-template {
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%239C92AC' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }
        .btn-primary {
            background-color: #6366f1;
            color: white;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #4f46e5;
            transform: translateY(-2px);
        }
        .btn-secondary {
            background-color: #f59e0b;
            color: white;
            transition: all 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #d97706;
            transform: translateY(-2px);
        }
        .footer {
            background-color: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(5px);
        }
    </style>
</head>
<body>
    <!-- ä¸»å®¹å™¨ -->
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- éŠæˆ²æ¨™é¡Œ -->
        <div class="text-center mb-8">
            <h1 class="text-4xl md:text-5xl font-bold text-indigo-700 mb-4">LSTéŠæˆ²å®¤-å‹•ç‰©è®Šèº«è—¥æ°´</h1>
            <p class="text-xl md:text-2xl text-indigo-500">ç¬¬ä¸€äººç¨±æ„Ÿå®˜å†’éšªæ—¥è¨˜</p>
        </div>

        <!-- éŠæˆ²éšæ®µæŒ‡ç¤ºå™¨ -->
        <div class="flex justify-center mb-8">
            <div class="flex items-center w-full max-w-3xl">
                <div id="step1-indicator" class="flex-1 text-center">
                    <div class="w-10 h-10 mx-auto rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold">1</div>
                    <p class="mt-2 text-indigo-600 font-medium">é¸æ“‡å‹•ç‰©</p>
                </div>
                <div class="flex-1 h-1 bg-gray-300" id="line1"></div>
                <div id="step2-indicator" class="flex-1 text-center">
                    <div class="w-10 h-10 mx-auto rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-bold">2</div>
                    <p class="mt-2 text-gray-500">æ„Ÿå®˜é«”é©—</p>
                </div>
                <div class="flex-1 h-1 bg-gray-300" id="line2"></div>
                <div id="step3-indicator" class="flex-1 text-center">
                    <div class="w-10 h-10 mx-auto rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-bold">3</div>
                    <p class="mt-2 text-gray-500">æ’°å¯«æ—¥è¨˜</p>
                </div>
                <div class="flex-1 h-1 bg-gray-300" id="line3"></div>
                <div id="step4-indicator" class="flex-1 text-center">
                    <div class="w-10 h-10 mx-auto rounded-full bg-gray-300 flex items-center justify-center text-gray-600 font-bold">4</div>
                    <p class="mt-2 text-gray-500">æˆæœå‘ˆç¾</p>
                </div>
            </div>
        </div>

        <!-- æ­¥é©Ÿ 1ï¼šé¸æ“‡å‹•ç‰© -->
        <div id="step1" class="mb-8">
            <div class="text-center mb-8">
                <div class="inline-block">
                    <svg class="w-24 h-24 mx-auto potion-bottle" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M40 20H60V40C70 45 75 55 75 65C75 75 65 85 50 85C35 85 25 75 25 65C25 55 30 45 40 40V20Z" fill="#c4b5fd" stroke="#4338ca" stroke-width="3"/>
                        <path d="M35 15H65V25H35V15Z" fill="#818cf8" stroke="#4338ca" stroke-width="3"/>
                        <path d="M40 40C50 45 55 55 55 65C55 75 45 80 40 80" stroke="#4338ca" stroke-width="2" stroke-dasharray="3 3"/>
                        <circle cx="45" cy="50" r="3" fill="white"/>
                        <circle cx="55" cy="60" r="2" fill="white"/>
                        <circle cx="40" cy="65" r="4" fill="white"/>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold text-indigo-700 mt-4">é¸æ“‡ä½ æƒ³è®Šèº«çš„å‹•ç‰©</h2>
                <p class="text-gray-600 mt-2">æ¯ç¨®å‹•ç‰©éƒ½æœ‰ç¨ç‰¹çš„æ„Ÿå®˜èƒ½åŠ›ï¼Œé¸æ“‡ä¸€ç¨®ä½ æƒ³é«”é©—çš„å‹•ç‰©ï¼</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                <!-- è™è  -->
                <div class="animal-card bg-white rounded-xl shadow-lg overflow-hidden" data-animal="bat">
                    <div class="h-40 bg-gray-800 relative overflow-hidden">
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 30C40 20 25 25 20 35C15 45 25 55 30 60C35 65 45 70 50 70C55 70 65 65 70 60C75 55 85 45 80 35C75 25 60 20 50 30Z" fill="#444"/>
                            <path d="M20 35C15 25 5 30 5 40" stroke="#444" stroke-width="3"/>
                            <path d="M80 35C85 25 95 30 95 40" stroke="#444" stroke-width="3"/>
                            <circle cx="40" cy="40" r="3" fill="white"/>
                            <circle cx="60" cy="40" r="3" fill="white"/>
                            <path d="M45 50C47 52 53 52 55 50" stroke="#666" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-800">è™è </h3>
                        <p class="text-gray-600 mt-2">æˆ‘ç”¨è¶…éŸ³æ³¢ä¾†çœ‹ä¸–ç•Œï¼Œåœ¨æ¼†é»‘çš„å¤œæ™šä¹Ÿèƒ½ç²¾æº–é£›è¡Œã€‚</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-sm text-indigo-600 font-medium">ç‰¹æ®Šèƒ½åŠ›ï¼šå›è²å®šä½</span>
                            <button class="select-animal-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200 transition">é¸æ“‡</button>
                        </div>
                    </div>
                </div>

                <!-- é¯Šé­š -->
                <div class="animal-card bg-white rounded-xl shadow-lg overflow-hidden" data-animal="shark">
                    <div class="h-40 bg-blue-900 relative overflow-hidden">
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 50C20 40 40 35 60 40L80 30L75 50L80 70L60 60C40 65 20 60 10 50Z" fill="#546e7a"/>
                            <path d="M60 40L75 30" stroke="#455a64" stroke-width="2"/>
                            <path d="M60 60L75 70" stroke="#455a64" stroke-width="2"/>
                            <circle cx="25" cy="45" r="3" fill="black"/>
                            <path d="M40 50L50 50" stroke="#455a64" stroke-width="2"/>
                            <path d="M30 60L40 50L30 40" fill="#455a64"/>
                        </svg>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-800">é¯Šé­š</h3>
                        <p class="text-gray-600 mt-2">æˆ‘èƒ½æ„ŸçŸ¥æ°´ä¸­å¾®å¼±çš„é›»æµï¼Œå¯Ÿè¦ºçµç‰©çš„å¿ƒè·³ã€‚</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-sm text-indigo-600 font-medium">ç‰¹æ®Šèƒ½åŠ›ï¼šé›»æµæ„Ÿæ‡‰</span>
                            <button class="select-animal-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200 transition">é¸æ“‡</button>
                        </div>
                    </div>
                </div>

                <!-- èœœèœ‚ -->
                <div class="animal-card bg-white rounded-xl shadow-lg overflow-hidden" data-animal="bee">
                    <div class="h-40 bg-yellow-100 relative overflow-hidden">
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <ellipse cx="50" cy="50" rx="25" ry="20" fill="#fbbf24"/>
                            <path d="M25 50C25 40 35 30 50 30C65 30 75 40 75 50" stroke="#f59e0b" stroke-width="3" stroke-dasharray="5 3"/>
                            <path d="M25 50C25 60 35 70 50 70C65 70 75 60 75 50" stroke="#f59e0b" stroke-width="3" stroke-dasharray="5 3"/>
                            <circle cx="40" cy="45" r="3" fill="black"/>
                            <circle cx="60" cy="45" r="3" fill="black"/>
                            <path d="M45 55C47 57 53 57 55 55" stroke="#d97706" stroke-width="2"/>
                            <path d="M85 40L75 50L85 60" fill="#fbbf24" stroke="#f59e0b" stroke-width="1"/>
                            <path d="M15 40L25 50L15 60" fill="#fbbf24" stroke="#f59e0b" stroke-width="1"/>
                        </svg>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-800">èœœèœ‚</h3>
                        <p class="text-gray-600 mt-2">æˆ‘èƒ½çœ‹è¦‹ç´«å¤–ç·šï¼ŒèŠ±æœµåœ¨æˆ‘çœ¼ä¸­æœ‰ç‰¹æ®Šçš„åœ–æ¡ˆæŒ‡å¼•ã€‚</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-sm text-indigo-600 font-medium">ç‰¹æ®Šèƒ½åŠ›ï¼šç´«å¤–ç·šè¦–è¦º</span>
                            <button class="select-animal-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200 transition">é¸æ“‡</button>
                        </div>
                    </div>
                </div>

                <!-- çµè±¹ -->
                <div class="animal-card bg-white rounded-xl shadow-lg overflow-hidden" data-animal="cheetah">
                    <div class="h-40 bg-amber-100 relative overflow-hidden">
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20 60C25 45 40 40 50 40C60 40 75 45 80 60C75 70 60 75 50 75C40 75 25 70 20 60Z" fill="#f59e0b"/>
                            <path d="M20 60C15 55 10 55 5 60" stroke="#d97706" stroke-width="2"/>
                            <path d="M80 60C85 55 90 55 95 60" stroke="#d97706" stroke-width="2"/>
                            <circle cx="40" cy="50" r="3" fill="black"/>
                            <circle cx="60" cy="50" r="3" fill="black"/>
                            <path d="M45 60C47 62 53 62 55 60" stroke="#b45309" stroke-width="2"/>
                            <path d="M30 40L35 45M40 35L45 40M55 40L60 35M65 45L70 40" stroke="#b45309" stroke-width="1"/>
                            <path d="M25 55C25 55 30 50 35 55M35 55C35 55 40 50 45 55M55 55C55 55 60 50 65 55M65 55C65 55 70 50 75 55" stroke="#b45309" stroke-width="1"/>
                        </svg>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-800">çµè±¹</h3>
                        <p class="text-gray-600 mt-2">æˆ‘æ˜¯åœ°è¡¨ä¸Šè·‘å¾—æœ€å¿«çš„å‹•ç‰©ï¼Œè¦–è¦ºèƒ½å¿«é€Ÿæ•æ‰ç§»å‹•ç›®æ¨™ã€‚</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-sm text-indigo-600 font-medium">ç‰¹æ®Šèƒ½åŠ›ï¼šå‹•æ…‹è¦–è¦º</span>
                            <button class="select-animal-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200 transition">é¸æ“‡</button>
                        </div>
                    </div>
                </div>

                <!-- è²“é ­é·¹ -->
                <div class="animal-card bg-white rounded-xl shadow-lg overflow-hidden" data-animal="owl">
                    <div class="h-40 bg-amber-50 relative overflow-hidden">
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="50" cy="50" r="25" fill="#a16207"/>
                            <circle cx="40" cy="45" r="8" fill="white"/>
                            <circle cx="60" cy="45" r="8" fill="white"/>
                            <circle cx="40" cy="45" r="4" fill="black"/>
                            <circle cx="60" cy="45" r="4" fill="black"/>
                            <path d="M45 60L50 65L55 60" fill="#f59e0b"/>
                            <path d="M25 30L35 40M75 30L65 40" stroke="#a16207" stroke-width="3"/>
                        </svg>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-800">è²“é ­é·¹</h3>
                        <p class="text-gray-600 mt-2">æˆ‘åœ¨å¤œè£¡èƒ½æ¸…æ¥šçœ‹è¦‹ï¼Œè½åŠ›è¶…ç¾¤èƒ½å®šä½çµç‰©ä½ç½®ã€‚</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-sm text-indigo-600 font-medium">ç‰¹æ®Šèƒ½åŠ›ï¼šå¤œè¦–èˆ‡è½è¦º</span>
                            <button class="select-animal-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200 transition">é¸æ“‡</button>
                        </div>
                    </div>
                </div>

                <!-- é¯¨é­š -->
                <div class="animal-card bg-white rounded-xl shadow-lg overflow-hidden" data-animal="whale">
                    <div class="h-40 bg-blue-800 relative overflow-hidden">
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 50C20 30 40 25 60 30C80 35 90 45 90 50C90 55 80 65 60 70C40 75 20 70 10 50Z" fill="#1e40af"/>
                            <circle cx="25" cy="40" r="3" fill="black"/>
                            <path d="M70 40C70 40 75 35 80 40" stroke="#1e3a8a" stroke-width="2"/>
                            <path d="M15 50C15 50 20 60 30 60C40 60 45 50 45 50" fill="#1e3a8a"/>
                            <path d="M60 70C60 70 65 75 70 70" stroke="#1e3a8a" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-800">é¯¨é­š</h3>
                        <p class="text-gray-600 mt-2">æˆ‘ç”¨æ­Œè²åœ¨æµ·æ´‹ä¸­æºé€šï¼Œè²éŸ³èƒ½å‚³éæ•¸ç™¾å…¬é‡Œã€‚</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-sm text-indigo-600 font-medium">ç‰¹æ®Šèƒ½åŠ›ï¼šè²æ³¢å‚³é</span>
                            <button class="select-animal-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200 transition">é¸æ“‡</button>
                        </div>
                    </div>
                </div>

                <!-- åŒ—æ¥µç†Š -->
                <div class="animal-card bg-white rounded-xl shadow-lg overflow-hidden" data-animal="polar">
                    <div class="h-40 bg-blue-50 relative overflow-hidden">
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M30 70C20 60 20 40 30 30C40 20 60 20 70 30C80 40 80 60 70 70C60 80 40 80 30 70Z" fill="white" stroke="#e5e7eb" stroke-width="2"/>
                            <circle cx="40" cy="45" r="3" fill="black"/>
                            <circle cx="60" cy="45" r="3" fill="black"/>
                            <path d="M45 55C47 57 53 57 55 55" stroke="#9ca3af" stroke-width="2"/>
                            <circle cx="50" cy="50" r="10" fill="#e5e7eb"/>
                        </svg>
                    </div>
                    <div class="p-4">
                        <h3 class="text-xl font-bold text-gray-800">åŒ—æ¥µç†Š</h3>
                        <p class="text-gray-600 mt-2">æˆ‘çš„å—…è¦ºæ¥µç‚ºéˆæ•ï¼Œèƒ½èåˆ°å†°å±¤ä¸‹æ•¸å…¬é‡Œå¤–çš„çµç‰©ã€‚</p>
                        <div class="mt-4 flex justify-between items-center">
                            <span class="text-sm text-indigo-600 font-medium">ç‰¹æ®Šèƒ½åŠ›ï¼šè¶…ç´šå—…è¦º</span>
                            <button class="select-animal-btn px-3 py-1 bg-indigo-100 text-indigo-700 rounded-full text-sm hover:bg-indigo-200 transition">é¸æ“‡</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- æ­¥é©Ÿ 2ï¼šæ„Ÿå®˜é«”é©— -->
        <div id="step2" class="mb-8 hidden">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-indigo-700">æ„Ÿå®˜é«”é©—</h2>
                <p class="text-gray-600 mt-2">æ¢ç´¢ä½ æ‰€é¸æ“‡å‹•ç‰©çš„æ„Ÿå®˜ä¸–ç•Œï¼é»æ“Šç•«é¢ä¸­çš„äº®é»æ”¶é›†æ„Ÿå®˜ç·šç´¢å¡ã€‚</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6">
                <div id="animal-name" class="text-xl font-bold text-center mb-4"></div>
                
                <div class="sensory-experience rounded-lg mb-6 relative" id="sensory-container">
                    <!-- æ„Ÿå®˜é«”é©—å€åŸŸï¼Œæœƒæ ¹æ“šé¸æ“‡çš„å‹•ç‰©å‹•æ…‹ç”Ÿæˆ -->
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold text-indigo-700 mb-3">æ„Ÿå®˜ç·šç´¢å¡</h3>
                        <div id="sensory-clues" class="bg-indigo-50 rounded-lg p-4 min-h-[150px]">
                            <p class="text-gray-500 text-center">é»æ“Šç•«é¢ä¸­çš„äº®é»æ”¶é›†ç·šç´¢å¡</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-indigo-700 mb-3">äº’å‹•å•ç­”</h3>
                        <div class="bg-amber-50 rounded-lg p-4">
                            <div class="mb-4">
                                <p class="font-medium mb-2">ä½ ä»Šå¤©é‡åˆ°çš„æœ€å¤§æŒ‘æˆ°æ˜¯ä»€éº¼ï¼Ÿ</p>
                                <textarea id="challenge-answer" class="w-full p-2 border border-gray-300 rounded-md" rows="2"></textarea>
                            </div>
                            <div class="mb-4">
                                <p class="font-medium mb-2">ä½ é ä»€éº¼æ–¹å¼æ‰¾é£Ÿç‰©ï¼Ÿ</p>
                                <textarea id="food-answer" class="w-full p-2 border border-gray-300 rounded-md" rows="2"></textarea>
                            </div>
                            <div>
                                <p class="font-medium mb-2">ä½ æœ€å–œæ­¡çš„åœ°æ–¹æ˜¯å“ªè£¡ï¼Ÿ</p>
                                <textarea id="place-answer" class="w-full p-2 border border-gray-300 rounded-md" rows="2"></textarea>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex justify-between">
                    <button id="back-to-step1" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">è¿”å›é¸æ“‡</button>
                    <button id="go-to-step3" class="px-6 py-2 btn-primary rounded-lg">ç¹¼çºŒå¯«æ—¥è¨˜</button>
                </div>
            </div>
        </div>

        <!-- æ­¥é©Ÿ 3ï¼šæ’°å¯«æ—¥è¨˜ -->
        <div id="step3" class="mb-8 hidden">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-indigo-700">æ’°å¯«ç¬¬ä¸€äººç¨±å‹•ç‰©æ—¥è¨˜</h2>
                <p class="text-gray-600 mt-2">ä»¥ã€Œæˆ‘ã€ç‚ºä¸»è©ï¼Œæè¿°ä½ ä½œç‚ºå‹•ç‰©çš„ä¸€å¤©é«”é©—</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-2">
                        <div class="diary-template bg-amber-50 rounded-lg p-6 min-h-[500px]">
                            <div class="mb-4">
                                <label class="block text-gray-700 font-medium mb-2">æ—¥è¨˜æ¨™é¡Œ</label>
                                <input type="text" id="diary-title" class="w-full p-2 border border-gray-300 rounded-md" placeholder="ä¾‹å¦‚ï¼šè™è çš„å¤œé–“å†’éšª">
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 font-medium mb-2">æˆ‘çš„å¤–å‹</label>
                                <textarea id="diary-appearance" class="w-full p-2 border border-gray-300 rounded-md" rows="3" placeholder="ä¾‹å¦‚ï¼šæˆ‘æœ‰ä¸€å°è¶…å¤§çš„è€³æœµ..."></textarea>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 font-medium mb-2">æˆ‘çš„æ„Ÿå®˜ä¸–ç•Œ</label>
                                <textarea id="diary-sensory" class="w-full p-2 border border-gray-300 rounded-md" rows="4" placeholder="ä¾‹å¦‚ï¼šæˆ‘çœ‹ä¸è¦‹å½©è‰²ä¸–ç•Œï¼Œä½†æˆ‘çš„é¼»å­èƒ½æ‰¾å‡ºé æ–¹çš„é£Ÿç‰©..."></textarea>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 font-medium mb-2">æˆ‘ä¸€å¤©çš„ç”Ÿæ´»</label>
                                <textarea id="diary-daily" class="w-full p-2 border border-gray-300 rounded-md" rows="5" placeholder="ä¾‹å¦‚ï¼šä»Šå¤©ï¼Œæˆ‘åœ¨å¤œè£¡å·¡é‚ï¼Œæ‰¾åˆ°äº†æ»¿æ»¿çš„èŠ±èœœ..."></textarea>
                            </div>
                            <div>
                                <label class="block text-gray-700 font-medium mb-2">æˆ‘çš„å¿ƒæƒ…</label>
                                <textarea id="diary-feeling" class="w-full p-2 border border-gray-300 rounded-md" rows="3" placeholder="ä¾‹å¦‚ï¼šæˆ‘è¦ºå¾—å¥½é©•å‚²ï¼Œå› ç‚ºæˆ‘é£›å¾—åˆå¿«åˆé«˜ï¼"></textarea>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="bg-indigo-50 rounded-lg p-4 sticky top-4">
                            <h3 class="text-lg font-semibold text-indigo-700 mb-3">å¯«ä½œæç¤º</h3>
                            <div class="mb-4">
                                <h4 class="font-medium text-indigo-600">å¼•å°å¥</h4>
                                <ul class="list-disc list-inside text-gray-600 space-y-2 mt-2">
                                    <li>ç•¶æˆ‘é†’ä¾†æ™‚ï¼Œæˆ‘æ„Ÿè¦ºåˆ°...</li>
                                    <li>æˆ‘çš„çœ¼ç›å¯ä»¥çœ‹è¦‹...</li>
                                    <li>æˆ‘çš„è€³æœµèƒ½è½åˆ°...</li>
                                    <li>æˆ‘æœ€å–œæ­¡ç”¨æˆ‘çš„...ä¾†...</li>
                                    <li>å¦‚æœäººé¡èƒ½é«”é©—æˆ‘çš„æ„Ÿå®˜ï¼Œä»–å€‘æœƒ...</li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-medium text-indigo-600">ä½ çš„æ„Ÿå®˜ç·šç´¢</h4>
                                <div id="diary-clues" class="mt-2 text-gray-600">
                                    <!-- å‹•æ…‹ç”Ÿæˆçš„æ„Ÿå®˜ç·šç´¢ -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 flex justify-between">
                    <button id="back-to-step2" class="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition">è¿”å›é«”é©—</button>
                    <button id="go-to-step4" class="px-6 py-2 btn-primary rounded-lg">å®Œæˆæ—¥è¨˜</button>
                </div>
            </div>
        </div>

        <!-- æ­¥é©Ÿ 4ï¼šæˆæœå‘ˆç¾ -->
        <div id="step4" class="mb-8 hidden">
            <div class="text-center mb-8">
                <h2 class="text-2xl font-bold text-indigo-700">æˆæœå‘ˆç¾</h2>
                <p class="text-gray-600 mt-2">æ­å–œå®Œæˆä½ çš„å‹•ç‰©è®Šèº«æ—¥è¨˜ï¼</p>
            </div>

            <div class="bg-white rounded-xl shadow-lg p-6">
                <div class="mb-6">
                    <h3 class="text-xl font-bold text-center mb-4" id="final-title">æ—¥è¨˜æ¨™é¡Œ</h3>
                    <div class="flex justify-center mb-4">
                        <div id="animal-icon" class="w-20 h-20 bg-indigo-100 rounded-full flex items-center justify-center">
                            <!-- å‹•ç‰©åœ–ç¤º -->
                        </div>
                    </div>
                    <div class="diary-template bg-amber-50 rounded-lg p-6">
                        <div class="mb-4">
                            <h4 class="font-medium text-indigo-700">æˆ‘çš„å¤–å‹</h4>
                            <p id="final-appearance" class="mt-2 text-gray-700"></p>
                        </div>
                        <div class="mb-4">
                            <h4 class="font-medium text-indigo-700">æˆ‘çš„æ„Ÿå®˜ä¸–ç•Œ</h4>
                            <p id="final-sensory" class="mt-2 text-gray-700"></p>
                        </div>
                        <div class="mb-4">
                            <h4 class="font-medium text-indigo-700">æˆ‘ä¸€å¤©çš„ç”Ÿæ´»</h4>
                            <p id="final-daily" class="mt-2 text-gray-700"></p>
                        </div>
                        <div>
                            <h4 class="font-medium text-indigo-700">æˆ‘çš„å¿ƒæƒ…</h4>
                            <p id="final-feeling" class="mt-2 text-gray-700"></p>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <p class="mb-4">å°‡ä½ çš„æ—¥è¨˜åˆ†äº«åˆ°ç­ç´š Padletï¼š</p>
                    <a href="https://ylcdo.padlet.org/Lu/padlet-c1kacvrxv3nnaeoh" target="_blank" class="inline-block px-6 py-3 btn-secondary rounded-lg mb-6">å‰å¾€ Padlet åˆ†äº«</a>
                    
                    <div class="mt-4">
                        <button id="restart-game" class="px-6 py-2 btn-primary rounded-lg">é‡æ–°é–‹å§‹éŠæˆ²</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- é è…³ -->
        <footer class="mt-12 py-4 border-t border-gray-200 text-center footer rounded-lg shadow-md">
            <p class="text-gray-700">éŠæˆ²è¨­è¨ˆèˆ‡è£½ä½œï¼šå‘‚èˆ’å©·ï½œ<a href="#" class="text-indigo-600 hover:text-indigo-800">äº†è§£æ›´å¤šğŸ”</a></p>
            <p class="text-gray-600 mt-1">è‡‰æ›¸æœå°‹ï¼šå‘‚èˆ’å©·ï½œğŸ“§ luuyobi@gmail.com</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // å…¨å±€è®Šæ•¸
            let selectedAnimal = '';
            let collectedClues = [];
            
            // å‹•ç‰©è³‡æ–™
            const animalData = {
                bat: {
                    name: 'è™è ',
                    visionClass: 'bat-vision',
                    background: 'bg-gray-800',
                    clues: [
                        'æˆ‘èƒ½ç™¼å‡ºäººé¡è½ä¸è¦‹çš„è¶…éŸ³æ³¢',
                        'è²æ³¢åå½ˆå›ä¾†å‘Šè¨´æˆ‘ç‰©é«”çš„ä½ç½®',
                        'æˆ‘çš„è€³æœµæ¥µç‚ºéˆæ•ï¼Œèƒ½æ•æ‰å¾®å°è²éŸ³',
                        'é»‘æš—ä¸­æˆ‘æ¯”äººé¡æ›´æœ‰å„ªå‹¢'
                    ],
                    environment: `
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 150 L400 150" stroke="#555" stroke-width="1" stroke-dasharray="5,5"/>
                                <path d="M100 50 L100 250" stroke="#555" stroke-width="1" stroke-dasharray="5,5"/>
                                <path d="M200 50 L200 250" stroke="#555" stroke-width="1" stroke-dasharray="5,5"/>
                                <path d="M300 50 L300 250" stroke="#555" stroke-width="1" stroke-dasharray="5,5"/>
                                <circle cx="150" cy="100" r="20" fill="#777"/>
                                <rect x="250" y="180" width="40" height="60" fill="#666"/>
                                <path d="M50 200 L90 200 L70 170 Z" fill="#888"/>
                            </svg>
                        </div>
                    `
                },
                shark: {
                    name: 'é¯Šé­š',
                    visionClass: 'shark-vision',
                    background: 'bg-blue-900',
                    clues: [
                        'æˆ‘èƒ½æ„ŸçŸ¥æ°´ä¸­å¾®å¼±çš„é›»æµ',
                        'æˆ‘èƒ½å¯Ÿè¦ºçµç‰©çš„å¿ƒè·³',
                        'æˆ‘çš„é¼»å­èƒ½èåˆ°å¾ˆé çš„è¡€è…¥å‘³',
                        'æˆ‘çš„çš®è†šèƒ½æ„ŸçŸ¥æ°´æµçš„è®ŠåŒ–'
                    ],
                    environment: `
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <path d="M0 100 Q 100 150 200 100 Q 300 50 400 100" fill="none" stroke="#6b7280" stroke-width="1"/>
                                <path d="M0 150 Q 100 200 200 150 Q 300 100 400 150" fill="none" stroke="#6b7280" stroke-width="1"/>
                                <path d="M0 200 Q 100 250 200 200 Q 300 150 400 200" fill="none" stroke="#6b7280" stroke-width="1"/>
                                <circle cx="100" cy="120" r="8" fill="#9ca3af"/>
                                <circle cx="150" cy="180" r="6" fill="#9ca3af"/>
                                <circle cx="250" cy="150" r="10" fill="#9ca3af"/>
                                <path d="M300 120 L320 130 L300 140 Z" fill="#9ca3af"/>
                            </svg>
                        </div>
                    `
                },
                bee: {
                    name: 'èœœèœ‚',
                    visionClass: 'bee-vision',
                    background: 'bg-yellow-100',
                    clues: [
                        'æˆ‘èƒ½çœ‹è¦‹ç´«å¤–ç·š',
                        'èŠ±æœµåœ¨æˆ‘çœ¼ä¸­æœ‰ç‰¹æ®Šçš„åœ–æ¡ˆ',
                        'æˆ‘èƒ½æ„ŸçŸ¥åœ°çƒçš„ç£å ´',
                        'æˆ‘ç”¨èˆè¹ˆå‘Šè¨´åŒä¼´é£Ÿç‰©çš„ä½ç½®'
                    ],
                    environment: `
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0" y="200" width="400" height="100" fill="#84cc16"/>
                                <circle cx="100" cy="220" r="40" fill="#a3e635"/>
                                <circle cx="300" cy="220" r="30" fill="#a3e635"/>
                                <path d="M150 150 L170 100 L190 150" stroke="#d97706" stroke-width="3" fill="none"/>
                                <circle cx="170" cy="100" r="20" fill="#fbbf24"/>
                                <circle cx="250" cy="180" r="15" fill="#fbbf24"/>
                                <circle cx="80" cy="160" r="12" fill="#fbbf24"/>
                            </svg>
                        </div>
                    `
                },
                cheetah: {
                    name: 'çµè±¹',
                    visionClass: 'cheetah-vision',
                    background: 'bg-amber-100',
                    clues: [
                        'æˆ‘çš„è¦–è¦ºèƒ½å¿«é€Ÿæ•æ‰ç§»å‹•ç›®æ¨™',
                        'æˆ‘èƒ½åœ¨å¥”è·‘æ™‚ä¿æŒé ­éƒ¨ç©©å®š',
                        'æˆ‘çš„èº«é«”ç‚ºé€Ÿåº¦è€Œç”Ÿ',
                        'æˆ‘èƒ½åœ¨çŸ­è·é›¢å…§é”åˆ°æ¥µé«˜é€Ÿåº¦'
                    ],
                    environment: `
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0" y="200" width="400" height="100" fill="#fbbf24"/>
                                <circle cx="350" cy="80" r="30" fill="#fcd34d"/>
                                <path d="M100 220 L130 220 L115 200 Z" fill="#d97706"/>
                                <path d="M200 230 L240 230 L220 200 Z" fill="#d97706"/>
                                <path d="M50 250 L70 250 L60 235 Z" fill="#d97706"/>
                                <circle cx="150" cy="150" r="10" fill="#d97706"/>
                                <circle cx="180" cy="160" r="8" fill="#d97706"/>
                                <circle cx="210" cy="140" r="12" fill="#d97706"/>
                            </svg>
                        </div>
                    `
                },
                owl: {
                    name: 'è²“é ­é·¹',
                    visionClass: 'owl-vision',
                    background: 'bg-amber-50',
                    clues: [
                        'æˆ‘åœ¨å¤œè£¡èƒ½æ¸…æ¥šçœ‹è¦‹',
                        'æˆ‘çš„è½åŠ›è¶…ç¾¤èƒ½å®šä½çµç‰©ä½ç½®',
                        'æˆ‘çš„é ­èƒ½æ—‹è½‰270åº¦',
                        'æˆ‘çš„ç¾½æ¯›ç‰¹åˆ¥æŸ”è»Ÿï¼Œé£›è¡Œæ™‚å¹¾ä¹ç„¡è²'
                    ],
                    environment: `
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0" y="0" width="400" height="300" fill="#1e293b" opacity="0.7"/>
                                <circle cx="350" cy="50" r="30" fill="#f1f5f9"/>
                                <path d="M100 100 L150 50 L200 100" fill="none" stroke="#475569" stroke-width="5"/>
                                <path d="M250 150 L300 100 L350 150" fill="none" stroke="#475569" stroke-width="5"/>
                                <rect x="180" y="200" width="40" height="100" fill="#475569"/>
                                <circle cx="100" cy="250" r="10" fill="#94a3b8"/>
                                <circle cx="300" cy="220" r="15" fill="#94a3b8"/>
                            </svg>
                        </div>
                    `
                },
                whale: {
                    name: 'é¯¨é­š',
                    visionClass: 'whale-vision',
                    background: 'bg-blue-800',
                    clues: [
                        'æˆ‘ç”¨æ­Œè²åœ¨æµ·æ´‹ä¸­æºé€š',
                        'æˆ‘çš„è²éŸ³èƒ½å‚³éæ•¸ç™¾å…¬é‡Œ',
                        'æˆ‘èƒ½æ„ŸçŸ¥æµ·æ´‹ä¸­çš„è²éŸ³è®ŠåŒ–',
                        'æˆ‘çš„æ­Œè²æœ‰ç‰¹å®šçš„æ¨¡å¼å’Œçµæ§‹'
                    ],
                    environment: `
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0" y="0" width="400" height="300" fill="#1e40af" opacity="0.3"/>
                                <path d="M0 100 Q 100 120 200 100 Q 300 80 400 100" fill="none" stroke="#60a5fa" stroke-width="2"/>
                                <path d="M0 150 Q 100 170 200 150 Q 300 130 400 150" fill="none" stroke="#60a5fa" stroke-width="2"/>
                                <path d="M0 200 Q 100 220 200 200 Q 300 180 400 200" fill="none" stroke="#60a5fa" stroke-width="2"/>
                                <circle cx="100" cy="120" r="15" fill="#93c5fd" opacity="0.5"/>
                                <circle cx="250" cy="180" r="20" fill="#93c5fd" opacity="0.5"/>
                                <circle cx="350" cy="150" r="25" fill="#93c5fd" opacity="0.5"/>
                                <circle cx="150" cy="220" r="10" fill="#93c5fd" opacity="0.5"/>
                            </svg>
                        </div>
                    `
                },
                polar: {
                    name: 'åŒ—æ¥µç†Š',
                    visionClass: 'polar-vision',
                    background: 'bg-blue-50',
                    clues: [
                        'æˆ‘çš„å—…è¦ºæ¥µç‚ºéˆæ•',
                        'æˆ‘èƒ½èåˆ°å†°å±¤ä¸‹æ•¸å…¬é‡Œå¤–çš„çµç‰©',
                        'æˆ‘çš„æ¯›é«®å…¶å¯¦æ˜¯é€æ˜çš„',
                        'æˆ‘çš„çš®è†šæ˜¯é»‘è‰²çš„ï¼Œèƒ½å¸æ”¶é™½å…‰ä¿æš–'
                    ],
                    environment: `
                        <div class="absolute inset-0 flex items-center justify-center">
                            <svg class="w-full h-full" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0" y="200" width="400" height="100" fill="#e5e7eb"/>
                                <path d="M0 200 Q 50 180 100 200 Q 150 220 200 200 Q 250 180 300 200 Q 350 220 400 200" fill="#f9fafb"/>
                                <circle cx="350" cy="80" r="30" fill="#f3f4f6"/>
                                <path d="M100 220 L150 220 L125 200 Z" fill="#f3f4f6"/>
                                <path d="M200 230 L250 230 L225 210 Z" fill="#f3f4f6"/>
                                <path d="M300 240 L330 240 L315 225 Z" fill="#f3f4f6"/>
                                <circle cx="150" cy="150" r="10" fill="#e5e7eb"/>
                            </svg>
                        </div>
                    `
                }
            };

            // é¸æ“‡å‹•ç‰©
            document.querySelectorAll('.select-animal-btn').forEach(button => {
                button.addEventListener('click', function() {
                    const card = this.closest('.animal-card');
                    selectedAnimal = card.dataset.animal;
                    
                    // æ›´æ–°æ­¥é©ŸæŒ‡ç¤ºå™¨
                    document.getElementById('step1-indicator').querySelector('div').classList.remove('bg-indigo-600');
                    document.getElementById('step1-indicator').querySelector('div').classList.add('bg-green-600');
                    document.getElementById('step1-indicator').querySelector('p').classList.remove('text-indigo-600');
                    document.getElementById('step1-indicator').querySelector('p').classList.add('text-green-600');
                    
                    document.getElementById('step2-indicator').querySelector('div').classList.remove('bg-gray-300');
                    document.getElementById('step2-indicator').querySelector('div').classList.add('bg-indigo-600');
                    document.getElementById('step2-indicator').querySelector('p').classList.remove('text-gray-500');
                    document.getElementById('step2-indicator').querySelector('p').classList.add('text-indigo-600');
                    
                    document.getElementById('line1').classList.remove('bg-gray-300');
                    document.getElementById('line1').classList.add('bg-green-600');
                    
                    // éš±è—æ­¥é©Ÿ1ï¼Œé¡¯ç¤ºæ­¥é©Ÿ2
                    document.getElementById('step1').classList.add('hidden');
                    document.getElementById('step2').classList.remove('hidden');
                    
                    // è¨­ç½®å‹•ç‰©åç¨±
                    document.getElementById('animal-name').textContent = animalData[selectedAnimal].name;
                    
                    // è¨­ç½®æ„Ÿå®˜é«”é©—å€åŸŸ
                    const sensoryContainer = document.getElementById('sensory-container');
                    sensoryContainer.className = `sensory-experience rounded-lg mb-6 relative ${animalData[selectedAnimal].visionClass} ${animalData[selectedAnimal].background}`;
                    sensoryContainer.innerHTML = animalData[selectedAnimal].environment;
                    
                    // æ·»åŠ æ„Ÿå®˜ç·šç´¢é»
                    addSensoryCluePoints();
                    
                    // æ¸…ç©ºå·²æ”¶é›†çš„ç·šç´¢
                    collectedClues = [];
                    document.getElementById('sensory-clues').innerHTML = '<p class="text-gray-500 text-center">é»æ“Šç•«é¢ä¸­çš„äº®é»æ”¶é›†ç·šç´¢å¡</p>';
                });
            });

            // æ·»åŠ æ„Ÿå®˜ç·šç´¢é»
            function addSensoryCluePoints() {
                const sensoryContainer = document.getElementById('sensory-container');
                const clues = animalData[selectedAnimal].clues;
                
                // æ¸…é™¤ç¾æœ‰çš„ç·šç´¢é»
                document.querySelectorAll('.sensory-clue').forEach(el => el.remove());
                
                // æ·»åŠ æ–°çš„ç·šç´¢é»
                for (let i = 0; i < clues.length; i++) {
                    const cluePoint = document.createElement('div');
                    cluePoint.className = 'sensory-clue';
                    cluePoint.innerHTML = `<span class="text-xl">ğŸ’¡</span>`;
                    
                    // éš¨æ©Ÿä½ç½®
                    const top = 20 + Math.random() * 60; // 20% to 80%
                    const left = 20 + Math.random() * 60; // 20% to 80%
                    
                    cluePoint.style.top = `${top}%`;
                    cluePoint.style.left = `${left}%`;
                    
                    cluePoint.dataset.clue = clues[i];
                    cluePoint.addEventListener('click', collectClue);
                    
                    sensoryContainer.appendChild(cluePoint);
                }
            }

            // æ”¶é›†ç·šç´¢
            function collectClue(e) {
                const clue = e.currentTarget.dataset.clue;
                
                if (!collectedClues.includes(clue)) {
                    collectedClues.push(clue);
                    
                    // æ›´æ–°ç·šç´¢é¡¯ç¤º
                    const sensoryClues = document.getElementById('sensory-clues');
                    sensoryClues.innerHTML = '';
                    
                    collectedClues.forEach(c => {
                        const clueEl = document.createElement('div');
                        clueEl.className = 'bg-white p-2 rounded mb-2 shadow-sm';
                        clueEl.textContent = c;
                        sensoryClues.appendChild(clueEl);
                    });
                    
                    // ç§»é™¤å·²é»æ“Šçš„ç·šç´¢é»
                    e.currentTarget.remove();
                }
            }

            // è¿”å›æ­¥é©Ÿ1
            document.getElementById('back-to-step1').addEventListener('click', function() {
                document.getElementById('step2').classList.add('hidden');
                document.getElementById('step1').classList.remove('hidden');
                
                // é‡ç½®æ­¥é©ŸæŒ‡ç¤ºå™¨
                document.getElementById('step1-indicator').querySelector('div').classList.remove('bg-green-600');
                document.getElementById('step1-indicator').querySelector('div').classList.add('bg-indigo-600');
                document.getElementById('step1-indicator').querySelector('p').classList.remove('text-green-600');
                document.getElementById('step1-indicator').querySelector('p').classList.add('text-indigo-600');
                
                document.getElementById('step2-indicator').querySelector('div').classList.remove('bg-indigo-600');
                document.getElementById('step2-indicator').querySelector('div').classList.add('bg-gray-300');
                document.getElementById('step2-indicator').querySelector('p').classList.remove('text-indigo-600');
                document.getElementById('step2-indicator').querySelector('p').classList.add('text-gray-500');
                
                document.getElementById('line1').classList.remove('bg-green-600');
                document.getElementById('line1').classList.add('bg-gray-300');
            });

            // å‰å¾€æ­¥é©Ÿ3
            document.getElementById('go-to-step3').addEventListener('click', function() {
                // æ›´æ–°æ­¥é©ŸæŒ‡ç¤ºå™¨
                document.getElementById('step2-indicator').querySelector('div').classList.remove('bg-indigo-600');
                document.getElementById('step2-indicator').querySelector('div').classList.add('bg-green-600');
                document.getElementById('step2-indicator').querySelector('p').classList.remove('text-indigo-600');
                document.getElementById('step2-indicator').querySelector('p').classList.add('text-green-600');
                
                document.getElementById('step3-indicator').querySelector('div').classList.remove('bg-gray-300');
                document.getElementById('step3-indicator').querySelector('div').classList.add('bg-indigo-600');
                document.getElementById('step3-indicator').querySelector('p').classList.remove('text-gray-500');
                document.getElementById('step3-indicator').querySelector('p').classList.add('text-indigo-600');
                
                document.getElementById('line2').classList.remove('bg-gray-300');
                document.getElementById('line2').classList.add('bg-green-600');
                
                // éš±è—æ­¥é©Ÿ2ï¼Œé¡¯ç¤ºæ­¥é©Ÿ3
                document.getElementById('step2').classList.add('hidden');
                document.getElementById('step3').classList.remove('hidden');
                
                // æ›´æ–°æ—¥è¨˜æç¤ºä¸­çš„æ„Ÿå®˜ç·šç´¢
                const diaryClues = document.getElementById('diary-clues');
                diaryClues.innerHTML = '';
                
                if (collectedClues.length > 0) {
                    collectedClues.forEach(clue => {
                        const clueEl = document.createElement('p');
                        clueEl.className = 'mb-1';
                        clueEl.textContent = `â€¢ ${clue}`;
                        diaryClues.appendChild(clueEl);
                    });
                } else {
                    diaryClues.innerHTML = '<p class="text-gray-500">ä½ é‚„æ²’æœ‰æ”¶é›†åˆ°æ„Ÿå®˜ç·šç´¢</p>';
                }
                
                // é å¡«å¯«æ—¥è¨˜æ¨™é¡Œ
                document.getElementById('diary-title').value = `${animalData[selectedAnimal].name}çš„ä¸€å¤©`;
            });

            // è¿”å›æ­¥é©Ÿ2
            document.getElementById('back-to-step2').addEventListener('click', function() {
                document.getElementById('step3').classList.add('hidden');
                document.getElementById('step2').classList.remove('hidden');
                
                // é‡ç½®æ­¥é©ŸæŒ‡ç¤ºå™¨
                document.getElementById('step2-indicator').querySelector('div').classList.remove('bg-green-600');
                document.getElementById('step2-indicator').querySelector('div').classList.add('bg-indigo-600');
                document.getElementById('step2-indicator').querySelector('p').classList.remove('text-green-600');
                document.getElementById('step2-indicator').querySelector('p').classList.add('text-indigo-600');
                
                document.getElementById('step3-indicator').querySelector('div').classList.remove('bg-indigo-600');
                document.getElementById('step3-indicator').querySelector('div').classList.add('bg-gray-300');
                document.getElementById('step3-indicator').querySelector('p').classList.remove('text-indigo-600');
                document.getElementById('step3-indicator').querySelector('p').classList.add('text-gray-500');
                
                document.getElementById('line2').classList.remove('bg-green-600');
                document.getElementById('line2').classList.add('bg-gray-300');
            });

            // å‰å¾€æ­¥é©Ÿ4
            document.getElementById('go-to-step4').addEventListener('click', function() {
                // æ›´æ–°æ­¥é©ŸæŒ‡ç¤ºå™¨
                document.getElementById('step3-indicator').querySelector('div').classList.remove('bg-indigo-600');
                document.getElementById('step3-indicator').querySelector('div').classList.add('bg-green-600');
                document.getElementById('step3-indicator').querySelector('p').classList.remove('text-indigo-600');
                document.getElementById('step3-indicator').querySelector('p').classList.add('text-green-600');
                
                document.getElementById('step4-indicator').querySelector('div').classList.remove('bg-gray-300');
                document.getElementById('step4-indicator').querySelector('div').classList.add('bg-indigo-600');
                document.getElementById('step4-indicator').querySelector('p').classList.remove('text-gray-500');
                document.getElementById('step4-indicator').querySelector('p').classList.add('text-indigo-600');
                
                document.getElementById('line3').classList.remove('bg-gray-300');
                document.getElementById('line3').classList.add('bg-green-600');
                
                // éš±è—æ­¥é©Ÿ3ï¼Œé¡¯ç¤ºæ­¥é©Ÿ4
                document.getElementById('step3').classList.add('hidden');
                document.getElementById('step4').classList.remove('hidden');
                
                // å¡«å……æœ€çµ‚æ—¥è¨˜å…§å®¹
                document.getElementById('final-title').textContent = document.getElementById('diary-title').value || `${animalData[selectedAnimal].name}çš„ä¸€å¤©`;
                document.getElementById('final-appearance').textContent = document.getElementById('diary-appearance').value || 'ï¼ˆæœªå¡«å¯«ï¼‰';
                document.getElementById('final-sensory').textContent = document.getElementById('diary-sensory').value || 'ï¼ˆæœªå¡«å¯«ï¼‰';
                document.getElementById('final-daily').textContent = document.getElementById('diary-daily').value || 'ï¼ˆæœªå¡«å¯«ï¼‰';
                document.getElementById('final-feeling').textContent = document.getElementById('diary-feeling').value || 'ï¼ˆæœªå¡«å¯«ï¼‰';
                
                // è¨­ç½®å‹•ç‰©åœ–ç¤º
                const animalIcon = document.getElementById('animal-icon');
                animalIcon.className = `w-20 h-20 ${animalData[selectedAnimal].background} rounded-full flex items-center justify-center`;
                
                // æ ¹æ“šé¸æ“‡çš„å‹•ç‰©æ·»åŠ ç›¸æ‡‰çš„SVGåœ–ç¤º
                let svgIcon = '';
                switch(selectedAnimal) {
                    case 'bat':
                        svgIcon = `<svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M50 30C40 20 25 25 20 35C15 45 25 55 30 60C35 65 45 70 50 70C55 70 65 65 70 60C75 55 85 45 80 35C75 25 60 20 50 30Z" fill="#444"/>
                            <path d="M20 35C15 25 5 30 5 40" stroke="#444" stroke-width="3"/>
                            <path d="M80 35C85 25 95 30 95 40" stroke="#444" stroke-width="3"/>
                            <circle cx="40" cy="40" r="3" fill="white"/>
                            <circle cx="60" cy="40" r="3" fill="white"/>
                        </svg>`;
                        break;
                    case 'shark':
                        svgIcon = `<svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 50C20 40 40 35 60 40L80 30L75 50L80 70L60 60C40 65 20 60 10 50Z" fill="#546e7a"/>
                            <circle cx="25" cy="45" r="3" fill="black"/>
                        </svg>`;
                        break;
                    case 'bee':
                        svgIcon = `<svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <ellipse cx="50" cy="50" rx="25" ry="20" fill="#fbbf24"/>
                            <path d="M25 50C25 40 35 30 50 30C65 30 75 40 75 50" stroke="#f59e0b" stroke-width="3" stroke-dasharray="5 3"/>
                            <path d="M25 50C25 60 35 70 50 70C65 70 75 60 75 50" stroke="#f59e0b" stroke-width="3" stroke-dasharray="5 3"/>
                            <circle cx="40" cy="45" r="3" fill="black"/>
                            <circle cx="60" cy="45" r="3" fill="black"/>
                        </svg>`;
                        break;
                    case 'cheetah':
                        svgIcon = `<svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M20 60C25 45 40 40 50 40C60 40 75 45 80 60C75 70 60 75 50 75C40 75 25 70 20 60Z" fill="#f59e0b"/>
                            <circle cx="40" cy="50" r="3" fill="black"/>
                            <circle cx="60" cy="50" r="3" fill="black"/>
                            <path d="M30 40L35 45M40 35L45 40M55 40L60 35M65 45L70 40" stroke="#b45309" stroke-width="1"/>
                        </svg>`;
                        break;
                    case 'owl':
                        svgIcon = `<svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="50" cy="50" r="25" fill="#a16207"/>
                            <circle cx="40" cy="45" r="8" fill="white"/>
                            <circle cx="60" cy="45" r="8" fill="white"/>
                            <circle cx="40" cy="45" r="4" fill="black"/>
                            <circle cx="60" cy="45" r="4" fill="black"/>
                            <path d="M45 60L50 65L55 60" fill="#f59e0b"/>
                        </svg>`;
                        break;
                    case 'whale':
                        svgIcon = `<svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 50C20 30 40 25 60 30C80 35 90 45 90 50C90 55 80 65 60 70C40 75 20 70 10 50Z" fill="#1e40af"/>
                            <circle cx="25" cy="40" r="3" fill="black"/>
                        </svg>`;
                        break;
                    case 'polar':
                        svgIcon = `<svg class="w-12 h-12" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                            <path d="M30 70C20 60 20 40 30 30C40 20 60 20 70 30C80 40 80 60 70 70C60 80 40 80 30 70Z" fill="white" stroke="#e5e7eb" stroke-width="2"/>
                            <circle cx="40" cy="45" r="3" fill="black"/>
                            <circle cx="60" cy="45" r="3" fill="black"/>
                        </svg>`;
                        break;
                }
                
                animalIcon.innerHTML = svgIcon;
            });

            // é‡æ–°é–‹å§‹éŠæˆ²
            document.getElementById('restart-game').addEventListener('click', function() {
                // é‡ç½®æ‰€æœ‰æ­¥é©ŸæŒ‡ç¤ºå™¨
                document.getElementById('step1-indicator').querySelector('div').classList.remove('bg-green-600');
                document.getElementById('step1-indicator').querySelector('div').classList.add('bg-indigo-600');
                document.getElementById('step1-indicator').querySelector('p').classList.remove('text-green-600');
                document.getElementById('step1-indicator').querySelector('p').classList.add('text-indigo-600');
                
                document.getElementById('step2-indicator').querySelector('div').classList.remove('bg-green-600');
                document.getElementById('step2-indicator').querySelector('div').classList.add('bg-gray-300');
                document.getElementById('step2-indicator').querySelector('p').classList.remove('text-green-600');
                document.getElementById('step2-indicator').querySelector('p').classList.add('text-gray-500');
                
                document.getElementById('step3-indicator').querySelector('div').classList.remove('bg-green-600');
                document.getElementById('step3-indicator').querySelector('div').classList.add('bg-gray-300');
                document.getElementById('step3-indicator').querySelector('p').classList.remove('text-green-600');
                document.getElementById('step3-indicator').querySelector('p').classList.add('text-gray-500');
                
                document.getElementById('step4-indicator').querySelector('div').classList.remove('bg-indigo-600');
                document.getElementById('step4-indicator').querySelector('div').classList.add('bg-gray-300');
                document.getElementById('step4-indicator').querySelector('p').classList.remove('text-indigo-600');
                document.getElementById('step4-indicator').querySelector('p').classList.add('text-gray-500');
                
                document.getElementById('line1').classList.remove('bg-green-600');
                document.getElementById('line1').classList.add('bg-gray-300');
                
                document.getElementById('line2').classList.remove('bg-green-600');
                document.getElementById('line2').classList.add('bg-gray-300');
                
                document.getElementById('line3').classList.remove('bg-green-600');
                document.getElementById('line3').classList.add('bg-gray-300');
                
                // é¡¯ç¤ºæ­¥é©Ÿ1ï¼Œéš±è—å…¶ä»–æ­¥é©Ÿ
                document.getElementById('step1').classList.remove('hidden');
                document.getElementById('step2').classList.add('hidden');
                document.getElementById('step3').classList.add('hidden');
                document.getElementById('step4').classList.add('hidden');
                
                // æ¸…ç©ºè¡¨å–®
                document.getElementById('challenge-answer').value = '';
                document.getElementById('food-answer').value = '';
                document.getElementById('place-answer').value = '';
                document.getElementById('diary-title').value = '';
                document.getElementById('diary-appearance').value = '';
                document.getElementById('diary-sensory').value = '';
                document.getElementById('diary-daily').value = '';
                document.getElementById('diary-feeling').value = '';
                
                // é‡ç½®å·²æ”¶é›†çš„ç·šç´¢
                collectedClues = [];
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'968dd40b5468f1f4',t:'MTc1NDE0MDM2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
