<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ åœ°çƒæ‰‹å¥—ï¼šç’°éŠä¸–ç•Œæ‹æ‹æ‰‹</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }
        @keyframes wave {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }
        @keyframes rainbow {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(3deg); }
            75% { transform: rotate(-3deg); }
        }
        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(255, 255, 255, 0.3); }
            50% { box-shadow: 0 0 40px rgba(255, 255, 255, 0.6), 0 0 60px rgba(255, 255, 255, 0.4); }
        }
        .float { animation: float 3s ease-in-out infinite; }
        .wave { animation: wave 2s ease-in-out infinite; }
        .bounce { animation: bounce 2s ease-in-out infinite; }
        .pulse { animation: pulse 2s ease-in-out infinite; }
        .sparkle { animation: sparkle 1.5s ease-in-out infinite; }
        .rainbow { animation: rainbow 3s linear infinite; }
        .wiggle { animation: wiggle 1s ease-in-out infinite; }
        .glow { animation: glow 2s ease-in-out infinite; }
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #ff9a9e 75%, #fecfef 100%);
        }
        .card-gradient {
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.1) 100%);
        }
        .world-map {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 60'%3E%3Cpath d='M20,20 Q30,15 40,20 T60,25 L65,30 Q70,35 75,30 L80,35' stroke='%23ffffff' stroke-width='0.5' fill='none' opacity='0.3'/%3E%3Cpath d='M15,35 Q25,30 35,35 T55,40 L60,45 Q65,50 70,45 L75,50' stroke='%23ffffff' stroke-width='0.5' fill='none' opacity='0.3'/%3E%3C/svg%3E");
            background-size: cover;
        }
        .glow {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }
        .text-glow {
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-400 via-purple-500 to-pink-500">
    <!-- Cover Page -->
    <div id="coverPage" class="min-h-screen flex flex-col items-center justify-center p-6 world-map">
        <div class="text-center space-y-8">
            <h1 class="text-5xl md:text-7xl font-bold text-white mb-4 drop-shadow-2xl rainbow">
                LSTéŠæˆ²å®¤-åœ°çƒæ‰‹å¥—
            </h1>
            <h2 class="text-3xl md:text-5xl font-semibold text-yellow-300 mb-8 drop-shadow-lg wiggle">
                ç’°éŠä¸–ç•Œæ‹æ‹æ‰‹
            </h2>
            
            <div class="float text-9xl mb-8">
                ğŸ§¤
            </div>
            
            <div class="flex justify-center space-x-6 mb-8">
                <span class="wave text-6xl glow">ğŸ‡¯ğŸ‡µ</span>
                <span class="wave text-6xl glow" style="animation-delay: 0.2s">ğŸ‡ºğŸ‡¸</span>
                <span class="wave text-6xl glow" style="animation-delay: 0.4s">ğŸ‡¨ğŸ‡¦</span>
                <span class="wave text-6xl glow" style="animation-delay: 0.6s">ğŸ‡§ğŸ‡·</span>
                <span class="wave text-6xl glow" style="animation-delay: 0.8s">ğŸ‡«ğŸ‡·</span>
            </div>
            
            <!-- Floating decorative elements -->
            <div class="absolute top-20 left-10 text-4xl sparkle opacity-70">â­</div>
            <div class="absolute top-32 right-16 text-3xl bounce opacity-60" style="animation-delay: 0.5s">ğŸŒŸ</div>
            <div class="absolute bottom-40 left-20 text-5xl float opacity-50" style="animation-delay: 1s">âœ¨</div>
            <div class="absolute bottom-60 right-10 text-4xl wiggle opacity-70" style="animation-delay: 1.5s">ğŸ¯</div>
            
            <p class="text-xl md:text-2xl text-white font-semibold mb-12 max-w-2xl mx-auto leading-relaxed">
                æˆ´ä¸Šåœ°çƒæ‰‹å¥—ï¼Œå‡ºç™¼ä¿®å¾©åœ°çƒçš„çŸ¥è­˜è£‚ç¸«ï¼
            </p>
            
            <button onclick="showMissionPage()" class="pulse bg-yellow-400 hover:bg-yellow-500 text-purple-800 font-bold py-6 px-12 rounded-full text-2xl shadow-lg transform transition-all duration-300 hover:scale-105 mb-8">
                ğŸš€ é–‹å§‹å†’éšª
            </button>
        </div>
        
        <!-- Footer -->
        <div class="absolute bottom-0 left-0 right-0 p-8 bg-black/20 backdrop-blur-sm">
            <div class="text-center text-white/80 text-lg">
                <p>éŠæˆ²è¨­è¨ˆèˆ‡è£½ä½œï¼šå‘‚èˆ’å©·ï½œğŸ” è‡‰æ›¸æœå°‹ï¼šå‘‚èˆ’å©·ï½œğŸ“§ <a href="mailto:luuyobi@gmail.com" class="text-yellow-300 hover:text-yellow-200 transition-colors">luuyobi@gmail.com</a></p>
            </div>
        </div>
    </div>

    <!-- Mission Description Page -->
    <div id="missionPage" class="hidden min-h-screen flex flex-col items-center justify-center p-6 gradient-bg">
        <div class="text-center space-y-8 max-w-4xl mx-auto">
            <div class="bounce text-9xl mb-8">
                ğŸ’ğŸ”
            </div>
            
            <h2 class="text-4xl md:text-6xl font-bold text-white mb-8">
                æ¢éšªä»»å‹™èªªæ˜
            </h2>
            
            <div class="bg-white/20 backdrop-blur-sm rounded-3xl p-10 mb-8 shadow-2xl">
                <p class="text-2xl md:text-3xl text-white font-semibold leading-relaxed">
                    æ¢éšªå“¡ï¼Œä½ è¦å‰å¾€ä¸–ç•Œå„åœ°å®Œæˆ<br>
                    <span class="text-yellow-300 text-3xl md:text-4xl">åœ‹æ——ç¯‡ã€æ–‡åŒ–ç¯‡ã€é£²é£Ÿç¯‡</span><br>
                    æŒ‘æˆ°ï¼Œæ‰¾å›åœ°çƒå¤±è½çš„å¯¶çŸ³ï¼
                </p>
            </div>
            
            <button onclick="showChapterPage()" class="pulse bg-green-400 hover:bg-green-500 text-green-800 font-bold py-6 px-12 rounded-full text-2xl shadow-lg transform transition-all duration-300 hover:scale-105">
                ğŸ—ºï¸ å‡ºç™¼ï¼
            </button>
        </div>
    </div>

    <!-- Chapter Selection Page -->
    <div id="chapterPage" class="hidden min-h-screen flex flex-col items-center justify-center p-6 gradient-bg">
        <h2 class="text-4xl md:text-6xl font-bold text-white mb-12 text-center drop-shadow-2xl">
            é¸æ“‡ä½ çš„å†’éšªç¯‡ç« 
        </h2>
        
        <div class="grid md:grid-cols-3 gap-10 max-w-7xl mx-auto">
            <div onclick="showLearningPage('flags')" class="cursor-pointer transform hover:scale-110 transition-all duration-300">
                <div class="card-gradient backdrop-blur-sm rounded-3xl p-10 text-center hover:bg-white/30 shadow-2xl border-2 border-yellow-300/50 glow">
                    <div class="text-8xl mb-6 bounce">ğŸ´â€â˜ ï¸</div>
                    <h3 class="text-3xl font-bold text-white mb-6">æ——æµ·ä»»å‹™</h3>
                    <p class="text-white/80 text-xl">æ¢ç´¢ä¸–ç•Œå„åœ‹åœ‹æ——çš„ç§˜å¯†</p>
                </div>
            </div>
            
            <div onclick="showLearningPage('culture')" class="cursor-pointer transform hover:scale-110 transition-all duration-300">
                <div class="card-gradient backdrop-blur-sm rounded-3xl p-10 text-center hover:bg-white/30 shadow-2xl border-2 border-pink-300/50 glow" style="animation-delay: 0.2s">
                    <div class="text-8xl mb-6 wiggle">ğŸ­</div>
                    <h3 class="text-3xl font-bold text-white mb-6">ä¸–ç•Œç¿’ä¿—æ¢éšª</h3>
                    <p class="text-white/80 text-xl">ç™¼ç¾å„åœ‹ç¨ç‰¹çš„æ–‡åŒ–å‚³çµ±</p>
                </div>
            </div>
            
            <div onclick="showLearningPage('food')" class="cursor-pointer transform hover:scale-110 transition-all duration-300">
                <div class="card-gradient backdrop-blur-sm rounded-3xl p-10 text-center hover:bg-white/30 shadow-2xl border-2 border-green-300/50 glow" style="animation-delay: 0.4s">
                    <div class="text-8xl mb-6 float">ğŸ½ï¸</div>
                    <h3 class="text-3xl font-bold text-white mb-6">ç¾é£Ÿé›†ç« ä¹‹æ—…</h3>
                    <p class="text-white/80 text-xl">å“åšä¸–ç•Œå„åœ°çš„ç¾å‘³æ–™ç†</p>
                </div>
            </div>
        </div>
        
        <button onclick="showCoverPage()" class="mt-12 bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full">
            ğŸ  å›é¦–é 
        </button>
    </div>

    <!-- Learning Page -->
    <div id="learningPage" class="hidden min-h-screen p-6 gradient-bg">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-10">
                <h2 id="learningTitle" class="text-4xl md:text-6xl font-bold text-white mb-6 drop-shadow-2xl"></h2>
                <button onclick="showChapterPage()" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-full mb-8 text-lg">
                    â† è¿”å›ç¯‡ç« é¸æ“‡
                </button>
            </div>
            
            <div id="learningCards" class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-10">
                <!-- Learning cards will be populated by JavaScript -->
            </div>
            
            <div class="text-center">
                <button onclick="startQuiz()" class="pulse bg-red-500 hover:bg-red-600 text-white font-bold py-6 px-12 rounded-full text-2xl shadow-lg transform transition-all duration-300 hover:scale-105">
                    ğŸ¯ é–‹å§‹æŒ‘æˆ°
                </button>
            </div>
        </div>
    </div>

    <!-- Quiz Page -->
    <div id="quizPage" class="hidden min-h-screen p-6 gradient-bg">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-10">
                <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 drop-shadow-2xl">æŒ‘æˆ°æ™‚é–“ï¼</h2>
                <div class="bg-white/20 backdrop-blur-sm rounded-2xl p-6 mb-8 shadow-2xl">
                    <div class="flex justify-between items-center">
                        <span class="text-white font-semibold text-xl">é€²åº¦ï¼š<span id="questionProgress">1/5</span></span>
                        <div class="flex space-x-2">
                            <div id="gem1" class="w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center text-2xl">ğŸ’</div>
                            <div id="gem2" class="w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center text-2xl">ğŸ’</div>
                            <div id="gem3" class="w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center text-2xl">ğŸ’</div>
                            <div id="gem4" class="w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center text-2xl">ğŸ’</div>
                            <div id="gem5" class="w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center text-2xl">ğŸ’</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div id="questionCard" class="bg-white/20 backdrop-blur-sm rounded-3xl p-10 mb-10 shadow-2xl border border-white/20">
                <h3 id="questionText" class="text-3xl md:text-4xl font-bold text-white mb-8 text-center leading-relaxed"></h3>
                <div id="answerOptions" class="space-y-6">
                    <!-- Answer options will be populated by JavaScript -->
                </div>
            </div>
            
            <div id="feedback" class="hidden bg-white/20 backdrop-blur-sm rounded-3xl p-8 mb-8 shadow-2xl border border-white/20">
                <p id="feedbackText" class="text-2xl md:text-3xl text-white text-center leading-relaxed"></p>
            </div>
            
            <div class="text-center">
                <button id="nextButton" onclick="nextQuestion()" class="hidden bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 px-8 rounded-full text-xl">
                    ä¸‹ä¸€é¡Œ â†’
                </button>
            </div>
        </div>
    </div>

    <!-- Completion Page -->
    <div id="completionPage" class="hidden min-h-screen flex flex-col items-center justify-center p-6 gradient-bg">
        <div class="text-center space-y-8">
            <div class="text-9xl mb-10 sparkle">
                ğŸŒâœ¨
            </div>
            
            <h2 class="text-5xl md:text-7xl font-bold text-white mb-10 drop-shadow-2xl">
                åœ°çƒçŸ¥è­˜ä¿®å¾©å®Œæˆï¼
            </h2>
            
            <div class="bg-white/20 backdrop-blur-sm rounded-3xl p-10 mb-10 shadow-2xl border border-white/20">
                <p id="completionMessage" class="text-2xl md:text-3xl text-white font-semibold leading-relaxed">
                    æ­å–œä½ å®Œæˆäº†æŒ‘æˆ°ï¼
                </p>
                <div class="flex justify-center space-x-3 mt-6">
                    <span class="sparkle text-4xl">ğŸ’</span>
                    <span class="sparkle text-4xl" style="animation-delay: 0.2s">ğŸ’</span>
                    <span class="sparkle text-4xl" style="animation-delay: 0.4s">ğŸ’</span>
                    <span class="sparkle text-4xl" style="animation-delay: 0.6s">ğŸ’</span>
                    <span class="sparkle text-4xl" style="animation-delay: 0.8s">ğŸ’</span>
                </div>
            </div>
            
            <div class="space-x-6">
                <button onclick="showChapterPage()" class="bg-green-500 hover:bg-green-600 text-white font-bold py-6 px-12 rounded-full text-2xl shadow-lg transform transition-all duration-300 hover:scale-105">
                    ğŸ”„ å†æŒ‘æˆ°
                </button>
                <button onclick="showCoverPage()" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-6 px-12 rounded-full text-2xl shadow-lg transform transition-all duration-300 hover:scale-105">
                    ğŸ  å›é¦–é 
                </button>
            </div>
        </div>
    </div>

    <script>
        // Game data
        const gameData = {
            flags: {
                title: "ğŸ´â€â˜ ï¸ åœ‹æ——ç¯‡",
                cards: [
                    { flag: "ğŸ‡¯ğŸ‡µ", country: "æ—¥æœ¬", info: "ç™½åº•ç´…åœ“è±¡å¾µå¤ªé™½" },
                    { flag: "ğŸ‡ºğŸ‡¸", country: "ç¾åœ‹", info: "50 é¡†æ˜Ÿä»£è¡¨å·" },
                    { flag: "ğŸ‡¨ğŸ‡¦", country: "åŠ æ‹¿å¤§", info: "ç´…æ¥“è‘‰è±¡å¾µè‡ªç„¶" },
                    { flag: "ğŸ‡§ğŸ‡·", country: "å·´è¥¿", info: "ç¶ åº•é»ƒè±å½¢ï¼Œè±¡å¾µç†±å¸¶æ£®æ—èˆ‡é»ƒé‡‘" },
                    { flag: "ğŸ‡«ğŸ‡·", country: "æ³•åœ‹", info: "è—ç™½ç´…ä»£è¡¨è‡ªç”±å¹³ç­‰åšæ„›" },
                    { flag: "ğŸ‡®ğŸ‡³", country: "å°åº¦", info: "ä¸­å¤®è—è¼ªä»£è¡¨æ³•è¼ª" },
                    { flag: "ğŸ‡¬ğŸ‡§", country: "è‹±åœ‹", info: "è¯åˆæ——ï¼Œèåˆè‹±æ ¼è˜­ã€è˜‡æ ¼è˜­ã€æ„›çˆ¾è˜­åœ–æ¡ˆ" },
                    { flag: "ğŸ‡°ğŸ‡·", country: "éŸ“åœ‹", info: "å¤ªæ¥µæ——è±¡å¾µé™°é™½å¹³è¡¡" }
                ],
                questions: [
                    { q: "å“ªåœ‹åœ‹æ——æœ‰æ¥“è‘‰ï¼Ÿ", a: "åŠ æ‹¿å¤§", options: ["æ—¥æœ¬", "åŠ æ‹¿å¤§", "ç¾åœ‹", "æ³•åœ‹"], hint: "æ¥“è‘‰æ˜¯åŠ æ‹¿å¤§çš„åœ‹æ¨¹" },
                    { q: "å“ªåœ‹åœ‹æ——ä¸­é–“æ˜¯ç´…å¤ªé™½ï¼Ÿ", a: "æ—¥æœ¬", options: ["éŸ“åœ‹", "æ—¥æœ¬", "å°åº¦", "ä¸­åœ‹"], hint: "æ—¥å‡ºä¹‹åœ‹" },
                    { q: "ç¾åœ‹åœ‹æ——æœ‰å¹¾é¡†æ˜Ÿï¼Ÿ", a: "50", options: ["48", "50", "52", "49"], hint: "ä»£è¡¨ 50 å·" },
                    { q: "å“ªåœ‹åœ‹æ——æœ‰ç¶ åº•é»ƒè±å½¢ï¼Ÿ", a: "å·´è¥¿", options: ["å·´è¥¿", "å¢¨è¥¿å“¥", "é˜¿æ ¹å»·", "æ™ºåˆ©"], hint: "ä»£è¡¨ç†±å¸¶æ£®æ—èˆ‡é»ƒé‡‘" },
                    { q: "æ³•åœ‹åœ‹æ——é¡è‰²é †åºæ˜¯ï¼Ÿ", a: "è—ç™½ç´…", options: ["ç´…ç™½è—", "è—ç™½ç´…", "ç™½è—ç´…", "ç´…è—ç™½"], hint: "å¾å·¦åˆ°å³" },
                    { q: "å“ªåœ‹åœ‹æ——ä¸­å¤®æ˜¯è—è‰²è¼ªï¼Ÿ", a: "å°åº¦", options: ["å°åº¦", "æ³°åœ‹", "æ—¥æœ¬", "éŸ“åœ‹"], hint: "æ³•è¼ªè±¡å¾µæ­£ç¾©" },
                    { q: "å“ªåœ‹åœ‹æ——æ˜¯ä¸‰ç¨®æ——èåˆï¼Ÿ", a: "è‹±åœ‹", options: ["è‹±åœ‹", "æ¾³æ´²", "ç´è¥¿è˜­", "åŠ æ‹¿å¤§"], hint: "è¯åˆæ——" },
                    { q: "å¤ªæ¥µæ——çš„åœ“å½¢é¡è‰²æ˜¯ï¼Ÿ", a: "ç´…è—", options: ["ç´…è—", "é»‘ç™½", "è—ç™½", "ç´…ç™½"], hint: "é™°é™½å¹³è¡¡" },
                    { q: "å“ªåœ‹åœ‹æ——ç¶ è‰²éƒ¨åˆ†è±¡å¾µæ£®æ—ï¼Ÿ", a: "å·´è¥¿", options: ["å·´è¥¿", "å¢¨è¥¿å“¥", "å°åº¦", "å·´åŸºæ–¯å¦"], hint: "ç†±å¸¶é›¨æ—" },
                    { q: "æ³•åœ‹åœ‹æ——è—è‰²è±¡å¾µä»€éº¼ï¼Ÿ", a: "è‡ªç”±", options: ["è‡ªç”±", "å¹³ç­‰", "åšæ„›", "æ­£ç¾©"], hint: "ä¸‰è‰²æ——çš„ç¬¬ä¸€å€‹æ„ç¾©" }
                ]
            },
            culture: {
                title: "ğŸ­ æ–‡åŒ–ç¯‡",
                cards: [
                    { flag: "ğŸ‡¯ğŸ‡µ", country: "æ—¥æœ¬", info: "æ–°å¹´åƒå¹´ç³•" },
                    { flag: "ğŸ‡ºğŸ‡¸", country: "ç¾åœ‹", info: "æ„Ÿæ©ç¯€åƒç«é›" },
                    { flag: "ğŸ‡®ğŸ‡¹", country: "ç¾©å¤§åˆ©", info: "å‚³çµ±æŠ«è–©ç™¼æºåœ°" },
                    { flag: "ğŸ‡¨ğŸ‡³", country: "ä¸­åœ‹", info: "æ˜¥ç¯€è²¼æ˜¥è¯" },
                    { flag: "ğŸ‡ªğŸ‡¬", country: "åŸƒåŠ", info: "é‡‘å­—å¡”èˆ‡æœ¨ä¹ƒä¼Š" },
                    { flag: "ğŸ‡²ğŸ‡½", country: "å¢¨è¥¿å“¥", info: "äº¡éˆç¯€å½©ç¹ªé ­éª¨" },
                    { flag: "ğŸ‡°ğŸ‡·", country: "éŸ“åœ‹", info: "ä¸­ç§‹åƒæ¾é¤…" },
                    { flag: "ğŸ‡ªğŸ‡¸", country: "è¥¿ç­ç‰™", info: "ç•ªèŒ„ç¯€" }
                ],
                questions: [
                    { q: "å“ªåœ‹åœ¨æ„Ÿæ©ç¯€åƒç«é›ï¼Ÿ", a: "ç¾åœ‹", options: ["ç¾åœ‹", "åŠ æ‹¿å¤§", "è‹±åœ‹", "æ¾³æ´²"], hint: "æ„Ÿæ©ç¯€çš„å‚³çµ±" },
                    { q: "å“ªåœ‹ä¸­ç§‹ç¯€åƒæ¾é¤…ï¼Ÿ", a: "éŸ“åœ‹", options: ["éŸ“åœ‹", "æ—¥æœ¬", "ä¸­åœ‹", "è¶Šå—"], hint: "éŸ“å¼ä¸­ç§‹å‚³çµ±" },
                    { q: "ç¾©å¤§åˆ©çš„ä»£è¡¨ç¾é£Ÿæ˜¯ï¼Ÿ", a: "æŠ«è–©", options: ["æŠ«è–©", "å£½å¸", "æ¼¢å ¡", "æ²é¤…"], hint: "ç¾©å¼ç¶“å…¸" },
                    { q: "å“ªåœ‹æœƒåœ¨æ˜¥ç¯€è²¼æ˜¥è¯ï¼Ÿ", a: "ä¸­åœ‹", options: ["ä¸­åœ‹", "æ—¥æœ¬", "éŸ“åœ‹", "è¶Šå—"], hint: "è¾²æ›†æ–°å¹´å‚³çµ±" },
                    { q: "é‡‘å­—å¡”åœ¨å“ªå€‹åœ‹å®¶ï¼Ÿ", a: "åŸƒåŠ", options: ["åŸƒåŠ", "å¢¨è¥¿å“¥", "å°åº¦", "å¸Œè‡˜"], hint: "å¤æ–‡æ˜éºè·¡" },
                    { q: "äº¡éˆç¯€æ˜¯å“ªåœ‹ç¯€æ—¥ï¼Ÿ", a: "å¢¨è¥¿å“¥", options: ["å¢¨è¥¿å“¥", "è¥¿ç­ç‰™", "é˜¿æ ¹å»·", "å·´è¥¿"], hint: "å½©ç¹ªé ­éª¨æ…¶å…¸" },
                    { q: "ç•ªèŒ„ç¯€åœ¨å“ªå€‹åœ‹å®¶èˆ‰è¡Œï¼Ÿ", a: "è¥¿ç­ç‰™", options: ["è¥¿ç­ç‰™", "ç¾©å¤§åˆ©", "æ³•åœ‹", "è‘¡è„ç‰™"], hint: "ç•ªèŒ„å¤§æˆ°" },
                    { q: "æ—¥æœ¬æ–°å¹´åƒä»€éº¼ï¼Ÿ", a: "å¹´ç³•", options: ["å¹´ç³•", "å£½å¸", "æ‹‰éºµ", "å¤©å©¦ç¾…"], hint: "æ–°å¹´å‚³çµ±é£Ÿç‰©" },
                    { q: "åŸƒåŠé‡‘å­—å¡”çš„ç”¨é€”ä¹‹ä¸€æ˜¯ï¼Ÿ", a: "æ³•è€é™µå¢“", options: ["æ³•è€é™µå¢“", "ç¥å»Ÿ", "å€‰åº«", "å¤©æ–‡å°"], hint: "å¤ä»£å¸ç‹é•·çœ ä¹‹åœ°" },
                    { q: "æ˜¥è¯é€šå¸¸ç”¨ä»€éº¼é¡è‰²ï¼Ÿ", a: "ç´…è‰²", options: ["ç´…è‰²", "é‡‘è‰²", "é»‘è‰²", "è—è‰²"], hint: "å‰ç¥¥çš„é¡è‰²" }
                ]
            },
            food: {
                title: "ğŸ½ï¸ é£²é£Ÿç¯‡",
                cards: [
                    { flag: "ğŸ‡¯ğŸ‡µ", country: "æ—¥æœ¬", info: "å£½å¸" },
                    { flag: "ğŸ‡ºğŸ‡¸", country: "ç¾åœ‹", info: "æ¼¢å ¡" },
                    { flag: "ğŸ‡®ğŸ‡¹", country: "ç¾©å¤§åˆ©", info: "ç¾©å¤§åˆ©éºµ" },
                    { flag: "ğŸ‡²ğŸ‡½", country: "å¢¨è¥¿å“¥", info: "å¢¨è¥¿å“¥æ²é¤…" },
                    { flag: "ğŸ‡«ğŸ‡·", country: "æ³•åœ‹", info: "ç‰›è§’éºµåŒ…" },
                    { flag: "ğŸ‡¹ğŸ‡­", country: "æ³°åœ‹", info: "å†¬è”­åŠŸæ¹¯" },
                    { flag: "ğŸ‡¨ğŸ‡³", country: "ä¸­åœ‹", info: "åŒ—äº¬çƒ¤é´¨" },
                    { flag: "ğŸ‡°ğŸ‡·", country: "éŸ“åœ‹", info: "æ³¡èœ" }
                ],
                questions: [
                    { q: "å“ªåœ‹çš„ä»£è¡¨é£Ÿç‰©æ˜¯å£½å¸ï¼Ÿ", a: "æ—¥æœ¬", options: ["æ—¥æœ¬", "éŸ“åœ‹", "ä¸­åœ‹", "æ³°åœ‹"], hint: "ç”Ÿé­šç‰‡æ–™ç†" },
                    { q: "æ¼¢å ¡æºè‡ªå“ªåœ‹ï¼Ÿ", a: "ç¾åœ‹", options: ["ç¾åœ‹", "å¾·åœ‹", "è‹±åœ‹", "åŠ æ‹¿å¤§"], hint: "é€Ÿé£Ÿæ–‡åŒ–ä»£è¡¨" },
                    { q: "ç¾©å¤§åˆ©éºµæ˜¯å“ªåœ‹æ–™ç†ï¼Ÿ", a: "ç¾©å¤§åˆ©", options: ["ç¾©å¤§åˆ©", "æ³•åœ‹", "è¥¿ç­ç‰™", "å¸Œè‡˜"], hint: "éºµæ¢æ–™ç†ç™¼æºåœ°" },
                    { q: "å¢¨è¥¿å“¥æ²é¤…å±¬æ–¼å“ªåœ‹ï¼Ÿ", a: "å¢¨è¥¿å“¥", options: ["å¢¨è¥¿å“¥", "è¥¿ç­ç‰™", "é˜¿æ ¹å»·", "æ™ºåˆ©"], hint: "ç‰ç±³é¤…åŒ…è£¹æ–™ç†" },
                    { q: "ç‰›è§’éºµåŒ…ä¾†è‡ªå“ªåœ‹ï¼Ÿ", a: "æ³•åœ‹", options: ["æ³•åœ‹", "ç¾©å¤§åˆ©", "å¾·åœ‹", "å¥§åœ°åˆ©"], hint: "æ³•å¼æ—©é¤ç¶“å…¸" },
                    { q: "å†¬è”­åŠŸæ¹¯æ˜¯ä»€éº¼å£å‘³ï¼Ÿ", a: "é…¸è¾£", options: ["é…¸è¾£", "ç”œé…¸", "é¹¹é®®", "å¾®è¾£"], hint: "æ³°å¼æ¹¯å“ç‰¹è‰²" },
                    { q: "åŒ—äº¬çƒ¤é´¨æ˜¯å“ªåœ‹åèœï¼Ÿ", a: "ä¸­åœ‹", options: ["ä¸­åœ‹", "æ—¥æœ¬", "éŸ“åœ‹", "è¶Šå—"], hint: "ä¸­è¯æ–™ç†ç¶“å…¸" },
                    { q: "æ³¡èœæ˜¯ä»€éº¼å‘³é“ï¼Ÿ", a: "è¾›è¾£é…¸", options: ["è¾›è¾£é…¸", "ç”œé…¸", "é¹¹é®®", "å¾®ç”œ"], hint: "éŸ“å¼é†ƒèœç‰¹è‰²" },
                    { q: "æ³°åœ‹å†¬è”­åŠŸçš„ä¸»è¦é£Ÿæä¹‹ä¸€ï¼Ÿ", a: "è¦", options: ["è¦", "é›è‚‰", "è±¬è‚‰", "ç‰›è‚‰"], hint: "æµ·é®®æ¹¯å“" },
                    { q: "å£½å¸çš„ä¸»è¦ææ–™ä¹‹ä¸€æ˜¯ï¼Ÿ", a: "ç”Ÿé­šç‰‡", options: ["ç”Ÿé­šç‰‡", "é›è‚‰", "è±¬è‚‰", "ç‰›è‚‰"], hint: "ç”Ÿé­šç‰‡" }
                ]
            }
        };

        let currentChapter = '';
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;

        function showCoverPage() {
            hideAllPages();
            document.getElementById('coverPage').classList.remove('hidden');
        }

        function showMissionPage() {
            hideAllPages();
            document.getElementById('missionPage').classList.remove('hidden');
        }

        function showChapterPage() {
            hideAllPages();
            document.getElementById('chapterPage').classList.remove('hidden');
        }

        function showLearningPage(chapter) {
            hideAllPages();
            currentChapter = chapter;
            const data = gameData[chapter];
            
            document.getElementById('learningTitle').textContent = data.title;
            
            const cardsContainer = document.getElementById('learningCards');
            cardsContainer.innerHTML = '';
            
            data.cards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'card-gradient backdrop-blur-sm rounded-2xl p-8 text-center transform hover:scale-105 transition-all duration-300 shadow-2xl border-2 border-white/30 glow';
                cardElement.innerHTML = `
                    <div class="text-6xl mb-4 bounce" style="animation-delay: ${Math.random() * 2}s">${card.flag}</div>
                    <h3 class="text-2xl font-bold text-white mb-4">${card.country}</h3>
                    <p class="text-white/90 text-lg leading-relaxed">${card.info}</p>
                `;
                cardsContainer.appendChild(cardElement);
            });
            
            document.getElementById('learningPage').classList.remove('hidden');
        }

        function startQuiz() {
            hideAllPages();
            const data = gameData[currentChapter];
            currentQuestions = shuffleArray([...data.questions]).slice(0, 5);
            currentQuestionIndex = 0;
            score = 0;
            
            resetGems();
            showQuestion();
            document.getElementById('quizPage').classList.remove('hidden');
        }

        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            document.getElementById('questionProgress').textContent = `${currentQuestionIndex + 1}/5`;
            document.getElementById('questionText').textContent = question.q;
            
            const optionsContainer = document.getElementById('answerOptions');
            optionsContainer.innerHTML = '';
            
            const shuffledOptions = shuffleArray([...question.options]);
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.className = 'w-full card-gradient hover:bg-white/40 text-white font-semibold py-6 px-8 rounded-2xl transition-all duration-300 transform hover:scale-105 text-xl shadow-lg border-2 border-white/30 glow hover:border-yellow-300/50';
                button.textContent = option;
                button.onclick = () => checkAnswer(option, question.a, question.hint);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('feedback').classList.add('hidden');
            document.getElementById('nextButton').classList.add('hidden');
        }

        function checkAnswer(selected, correct, hint) {
            const isCorrect = selected === correct;
            const feedbackElement = document.getElementById('feedback');
            const feedbackText = document.getElementById('feedbackText');
            
            if (isCorrect) {
                score++;
                feedbackText.innerHTML = `ğŸ‰ ç­”å°äº†ï¼<br><span class="text-yellow-300">${hint}</span>`;
                feedbackElement.className = 'bg-green-500/20 backdrop-blur-sm rounded-3xl p-6 mb-6';
                updateGem(currentQuestionIndex + 1, true);
            } else {
                feedbackText.innerHTML = `âŒ ç­”éŒ¯äº†ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${correct}<br><span class="text-yellow-300">${hint}</span>`;
                feedbackElement.className = 'bg-red-500/20 backdrop-blur-sm rounded-3xl p-6 mb-6';
                updateGem(currentQuestionIndex + 1, false);
            }
            
            feedbackElement.classList.remove('hidden');
            
            // Disable all answer buttons
            const buttons = document.querySelectorAll('#answerOptions button');
            buttons.forEach(btn => {
                btn.disabled = true;
                btn.className = btn.className.replace('hover:bg-white/30', '').replace('hover:scale-105', '') + ' opacity-50';
            });
            
            setTimeout(() => {
                document.getElementById('nextButton').classList.remove('hidden');
            }, 1000);
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < currentQuestions.length) {
                showQuestion();
            } else {
                showCompletionPage();
            }
        }

        function showCompletionPage() {
            hideAllPages();
            const message = score === 5 ? 
                `å®Œç¾ï¼ä½ ç²å¾—äº† ${score}/5 é¡†å¯¶çŸ³ï¼` : 
                `ä¸éŒ¯ï¼ä½ ç²å¾—äº† ${score}/5 é¡†å¯¶çŸ³ï¼ç¹¼çºŒåŠªåŠ›ï¼`;
            
            document.getElementById('completionMessage').textContent = message;
            document.getElementById('completionPage').classList.remove('hidden');
        }

        function updateGem(gemNumber, isCorrect) {
            const gem = document.getElementById(`gem${gemNumber}`);
            if (isCorrect) {
                gem.className = 'w-12 h-12 bg-yellow-400 rounded-full flex items-center justify-center sparkle text-2xl';
            } else {
                gem.className = 'w-12 h-12 bg-red-400 rounded-full flex items-center justify-center text-2xl';
            }
        }

        function resetGems() {
            for (let i = 1; i <= 5; i++) {
                const gem = document.getElementById(`gem${i}`);
                gem.className = 'w-12 h-12 bg-gray-400 rounded-full flex items-center justify-center text-2xl';
            }
        }

        function hideAllPages() {
            const pages = ['coverPage', 'missionPage', 'chapterPage', 'learningPage', 'quizPage', 'completionPage'];
            pages.forEach(page => {
                document.getElementById(page).classList.add('hidden');
            });
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96bf2b94228cf1f4',t:'MTc1NDY1Nzc0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
