<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å››æ¬¡å…ƒå­¸ç§‘å£è¢‹ï¼šå¯¦ç”¨é“å…·ç¯‡</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        
        .pocket-animation {
            animation: pocketGlow 2s ease-in-out infinite alternate;
        }
        
        @keyframes pocketGlow {
            0% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.5); }
            100% { box-shadow: 0 0 40px rgba(59, 130, 246, 0.8); }
        }
        
        .tool-emerge {
            animation: toolEmerge 1s ease-out forwards;
        }
        
        @keyframes toolEmerge {
            0% { transform: translateY(100px) scale(0.5); opacity: 0; }
            100% { transform: translateY(0) scale(1); opacity: 1; }
        }
        
        .success-animation {
            animation: successPulse 0.8s ease-in-out;
        }
        
        @keyframes successPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .error-shake {
            animation: errorShake 0.5s ease-in-out;
        }
        
        @keyframes errorShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .bubble-effect {
            position: absolute;
            width: 20px;
            height: 20px;
            background: rgba(59, 130, 246, 0.6);
            border-radius: 50%;
            animation: bubbleFloat 2s ease-out forwards;
        }
        
        @keyframes bubbleFloat {
            0% { transform: translateY(0) scale(0); opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }
        
        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: gold;
            border-radius: 50%;
            animation: sparkleFloat 1.5s ease-out forwards;
        }
        
        @keyframes sparkleFloat {
            0% { transform: translateY(0) scale(0); opacity: 1; }
            100% { transform: translateY(-80px) scale(2); opacity: 0; }
        }
        
        .option-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .option-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-400 via-pink-400 to-blue-400 min-h-screen">
    <!-- Game Container -->
    <div id="gameContainer" class="container mx-auto px-4 py-8 max-w-4xl">
        
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">LSTéŠæˆ²å®¤-ğŸ¯ å››æ¬¡å…ƒå­¸ç§‘å£è¢‹</h1>
            <p class="text-xl text-white/90">å¯¦ç”¨é“å…·ç¯‡ - å­¸ç¿’èˆ‡æ¢ç´¢</p>
            <div class="mt-4 bg-white/20 rounded-full px-6 py-2 inline-block">
                <span class="text-white font-medium">é€²åº¦: <span id="progressText">0/3</span></span>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="w-full bg-white/30 rounded-full h-3 mb-8">
            <div id="progressBar" class="progress-bar bg-gradient-to-r from-yellow-400 to-orange-500 h-3 rounded-full" style="width: 0%"></div>
        </div>

        <!-- Start Screen -->
        <div id="startScreen" class="text-center">
            <div class="pocket-animation bg-gradient-to-br from-blue-500 to-purple-600 rounded-3xl p-12 mb-8 mx-auto max-w-md">
                <div class="text-8xl mb-4">ğŸ“¦</div>
                <h2 class="text-2xl font-bold text-white mb-4">å››æ¬¡å…ƒå£è¢‹</h2>
                <p class="text-white/90 mb-6">æº–å‚™å¥½æ¢ç´¢ç¥å¥‡çš„å­¸ç¿’é“å…·äº†å—ï¼Ÿ</p>
            </div>
            <button onclick="startGame()" class="bg-gradient-to-r from-green-400 to-blue-500 text-white px-8 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform shadow-lg">
                ğŸš€ é–‹å§‹æ¢ç´¢
            </button>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="hidden">
            <!-- Tool Display -->
            <div id="toolDisplay" class="text-center mb-8">
                <div class="bg-white rounded-3xl p-8 shadow-2xl mx-auto max-w-md">
                    <div id="toolIcon" class="text-8xl mb-4 tool-emerge">ğŸ§¯</div>
                    <h3 id="toolName" class="text-2xl font-bold text-gray-800 mb-2">æ»…ç«å™¨</h3>
                    <p class="text-gray-600">å¾å››æ¬¡å…ƒå£è¢‹ä¸­å–å‡ºçš„ç¥å¥‡é“å…·ï¼</p>
                </div>
            </div>

            <!-- Questions -->
            <div id="questionContainer" class="space-y-8">
                <!-- Tool Description -->
                <div class="bg-white/95 rounded-2xl p-6 shadow-xl">
                    <h4 class="text-xl font-bold text-gray-800 mb-4">ğŸ’¡ é€™å€‹é“å…·çš„è©³ç´°åŠŸèƒ½èªªæ˜</h4>
                    <div id="toolDescription" class="text-gray-700 text-lg leading-relaxed">
                        <!-- Description will be inserted here -->
                    </div>
                </div>

                <!-- Function Question -->
                <div class="bg-white/95 rounded-2xl p-6 shadow-xl">
                    <h4 class="text-xl font-bold text-gray-800 mb-4">â“ é€™å€‹é“å…·æ˜¯ç”¨ä¾†åšä»€éº¼çš„ï¼Ÿ</h4>
                    <div id="functionOptions" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- Options will be inserted here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Success Screen -->
        <div id="successScreen" class="hidden text-center">
            <div class="success-animation bg-gradient-to-br from-green-400 to-blue-500 rounded-3xl p-12 mb-8 mx-auto max-w-md">
                <div class="text-8xl mb-4">âœ¨</div>
                <h2 class="text-3xl font-bold text-white mb-4">é“å…·å•Ÿå‹•æˆåŠŸï¼</h2>
                <div id="successAnimation" class="relative mb-4">
                    <div id="successIcon" class="text-6xl">ğŸ§¯</div>
                </div>
                <p id="successMessage" class="text-white/90 text-lg">ä½ ç­”å°äº†ï¼é€™æ˜¯å±¬æ–¼è‡ªç„¶ç§‘çš„çŸ¥è­˜å–”ï½</p>
            </div>
            <button onclick="nextQuestion()" class="bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-8 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform shadow-lg">
                â­ ç¹¼çºŒæ¢ç´¢
            </button>
        </div>

        <!-- Error Screen -->
        <div id="errorScreen" class="hidden text-center">
            <div class="error-shake bg-gradient-to-br from-gray-400 to-gray-600 rounded-3xl p-12 mb-8 mx-auto max-w-md">
                <div class="text-8xl mb-4 grayscale">âš ï¸</div>
                <h2 class="text-3xl font-bold text-white mb-4">å•Šå–”ï½é“å…·å¡ä½äº†</h2>
                <p class="text-white/90 text-lg mb-4">è«‹å†è©¦ä¸€æ¬¡å§ï¼</p>
                <div class="text-6xl grayscale" id="errorIcon">ğŸ§¯</div>
            </div>
            <button onclick="retryQuestion()" class="bg-gradient-to-r from-orange-400 to-red-500 text-white px-8 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform shadow-lg">
                ğŸ”„ å†è©¦ä¸€æ¬¡
            </button>
        </div>

        <!-- Final Screen -->
        <div id="finalScreen" class="hidden text-center">
            <div class="bg-gradient-to-br from-yellow-400 to-orange-500 rounded-3xl p-12 mb-8 mx-auto max-w-md">
                <div class="text-8xl mb-4">ğŸ†</div>
                <h2 class="text-3xl font-bold text-white mb-4">æ­å–œé€šé—œï¼</h2>
                <div class="bg-white/20 rounded-2xl p-4 mb-4">
                    <p class="text-white text-lg font-bold">å››æ¬¡å…ƒå­¸ç§‘å°åšå£«</p>
                </div>
                <p id="finalScore" class="text-white/90 text-lg">ä½ ç­”å°äº† 3/3 é¡Œï¼</p>
            </div>
            <div class="space-y-4">
                <button onclick="restartGame()" class="bg-gradient-to-r from-green-400 to-blue-500 text-white px-8 py-4 rounded-full text-xl font-bold hover:scale-105 transition-transform shadow-lg">
                    ğŸ® å†æŒ‘æˆ°ä¸€æ¬¡
                </button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-black/20 text-white py-6 mt-12">
        <div class="container mx-auto px-4 text-center">
            <p class="text-lg">éŠæˆ²è¨­è¨ˆèˆ‡è£½ä½œï¼šå‘‚èˆ’å©·ï½œäº†è§£æ›´å¤šğŸ”</p>
            <p class="mt-2">è‡‰æ›¸æœå°‹ï¼šå‘‚èˆ’å©·ï½œğŸ“§ luuyobi@gmail.com</p>
        </div>
    </footer>

    <script>
        // Game data
        const tools = [
            {
                icon: "ğŸ§¯",
                name: "æ»…ç«å™¨",
                functions: ["æ»…ç«", "å¸å¡µ", "ç…§æ˜"],
                correctFunction: 0,
                description: "æ»…ç«å™¨æ˜¯é‡è¦çš„æ¶ˆé˜²å®‰å…¨è¨­å‚™ï¼Œå…§å«æ»…ç«åŠ‘ï¼Œèƒ½å¤ å¿«é€Ÿæ’²æ»…ç«ç½ã€‚ä½¿ç”¨æ™‚éœ€è¦æ‹”æ‰å®‰å…¨æ’éŠ·ï¼Œå°æº–ç«æºæ ¹éƒ¨å™´å°„ã€‚ä¸åŒé¡å‹çš„æ»…ç«å™¨é©ç”¨æ–¼ä¸åŒç¨®é¡çš„ç«ç½ï¼Œå¦‚ä¹¾ç²‰æ»…ç«å™¨é©ç”¨æ–¼ä¸€èˆ¬ç«ç½ï¼ŒäºŒæ°§åŒ–ç¢³æ»…ç«å™¨é©ç”¨æ–¼é›»å™¨ç«ç½ã€‚",
                animation: "fire-extinguisher",
                message: "ç­”å°äº†ï¼æ»…ç«å™¨æ˜¯æ¶ˆé˜²å®‰å…¨çš„é‡è¦å·¥å…·ï¼"
            },
            {
                icon: "â›‘ï¸",
                name: "å®‰å…¨å¸½",
                functions: ["ä¿è­·é ­éƒ¨", "é®é™½", "è£é£¾"],
                correctFunction: 0,
                description: "å®‰å…¨å¸½æ˜¯å·¥ä½œå ´æ‰€å¿…å‚™çš„å€‹äººé˜²è­·è£å‚™ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ä¿è­·é ­éƒ¨å…å—å¢œè½ç‰©å“ã€ç¢°æ’æˆ–å…¶ä»–å±éšªçš„å‚·å®³ã€‚ç¾ä»£å®‰å…¨å¸½é€šå¸¸ç”±é«˜å¼·åº¦å¡‘æ–™è£½æˆï¼Œå…§éƒ¨æœ‰ç·©è¡å¢Šï¼Œèƒ½æœ‰æ•ˆåˆ†æ•£è¡æ“ŠåŠ›ã€‚åœ¨å»ºç¯‰å·¥åœ°ã€å·¥å» ã€å¯¦é©—å®¤ç­‰å ´æ‰€éƒ½å¿…é ˆä½©æˆ´ã€‚",
                animation: "safety-helmet",
                message: "ç­”å°äº†ï¼å®‰å…¨å¸½æ˜¯ä¿è­·é ­éƒ¨å®‰å…¨çš„é‡è¦è£å‚™ï¼"
            },
            {
                icon: "ğŸ§ª",
                name: "é…šé…è©¦åŠ‘",
                functions: ["æ¸¬é…¸é¹¼", "æŸ“è‰²", "æ¸…æ½”"],
                correctFunction: 0,
                description: "é…šé…æ˜¯ä¸€ç¨®åŒ–å­¸æŒ‡ç¤ºåŠ‘ï¼Œä¸»è¦ç”¨æ–¼æª¢æ¸¬æº¶æ¶²çš„é…¸é¹¼æ€§ã€‚åœ¨é…¸æ€§æˆ–ä¸­æ€§ç’°å¢ƒä¸­å‘ˆç„¡è‰²ï¼Œåœ¨é¹¼æ€§ç’°å¢ƒä¸­æœƒè®Šæˆç²‰ç´…è‰²æˆ–ç´…è‰²ã€‚é€™å€‹ç‰¹æ€§è®“å®ƒæˆç‚ºåŒ–å­¸å¯¦é©—ä¸­åˆ¤æ–·é…¸é¹¼æ€§çš„é‡è¦å·¥å…·ï¼Œå»£æ³›æ‡‰ç”¨æ–¼å­¸æ ¡å¯¦é©—å®¤å’ŒåŒ–å­¸åˆ†æä¸­ã€‚",
                animation: "chemical-test",
                message: "ç­”å°äº†ï¼é…šé…è©¦åŠ‘æ˜¯åŒ–å­¸å¯¦é©—çš„é‡è¦æŒ‡ç¤ºåŠ‘ï¼"
            },
            {
                icon: "ğŸŒ¡ï¸",
                name: "æº«åº¦è¨ˆ",
                functions: ["æ¸¬é‡æº«åº¦", "æ¸¬æ™‚é–“", "æ¸¬é‡é‡"],
                correctFunction: 0,
                description: "æº«åº¦è¨ˆæ˜¯æ¸¬é‡æº«åº¦çš„ç²¾å¯†å„€å™¨ï¼Œåˆ©ç”¨ç‰©è³ªç†±è„¹å†·ç¸®çš„åŸç†å·¥ä½œã€‚å¸¸è¦‹çš„æœ‰æ°´éŠ€æº«åº¦è¨ˆã€é…’ç²¾æº«åº¦è¨ˆå’Œé›»å­æº«åº¦è¨ˆã€‚åœ¨é†«ç™‚ã€æ°£è±¡ã€å·¥æ¥­ç”Ÿç”¢ç­‰é ˜åŸŸéƒ½æœ‰é‡è¦æ‡‰ç”¨ã€‚ä½¿ç”¨æ™‚è¦æ³¨æ„æ­£ç¢ºçš„æ¸¬é‡æ–¹æ³•å’Œå®‰å…¨äº‹é …ã€‚",
                animation: "thermometer",
                message: "ç­”å°äº†ï¼æº«åº¦è¨ˆæ˜¯æ¸¬é‡æº«åº¦è®ŠåŒ–çš„ç²¾å¯†å„€å™¨ï¼"
            },
            {
                icon: "ğŸ§­",
                name: "æŒ‡å—é‡",
                functions: ["æŒ‡æ–¹å‘", "æ¸¬é¢¨é€Ÿ", "çœ‹æ™‚é–“"],
                correctFunction: 0,
                description: "æŒ‡å—é‡æ˜¯åˆ©ç”¨åœ°çƒç£å ´åŸç†è£½ä½œçš„å°èˆªå·¥å…·ï¼Œç£é‡æœƒæŒ‡å‘ç£åŒ—æ¥µæ–¹å‘ã€‚å¤ä»£ä¸­åœ‹ç™¼æ˜çš„æŒ‡å—é‡æ˜¯å››å¤§ç™¼æ˜ä¹‹ä¸€ï¼Œå°äººé¡èˆªæµ·å’Œæ¢éšªæœ‰é‡å¤§è²¢ç»ã€‚ç¾ä»£æŒ‡å—é‡çµåˆäº†ç²¾å¯†åˆ»åº¦ï¼Œèƒ½æº–ç¢ºæŒ‡ç¤ºæ–¹å‘ï¼Œæ˜¯é‡å¤–æ´»å‹•å’Œåœ°ç†å­¸ç¿’çš„é‡è¦å·¥å…·ã€‚",
                animation: "compass",
                message: "ç­”å°äº†ï¼æŒ‡å—é‡æ˜¯é‡è¦çš„å°èˆªå·¥å…·ï¼"
            },
            {
                icon: "ğŸª«",
                name: "è¡Œå‹•é›»æº",
                functions: ["å……é›»", "ç…§æ˜", "åŠ ç†±"],
                correctFunction: 0,
                description: "è¡Œå‹•é›»æºæ˜¯ä¾¿æ”œå¼çš„é›»åŠ›å„²å­˜è£ç½®ï¼Œå…§å»ºé‹°é›»æ± ï¼Œå¯ä»¥ç‚ºæ‰‹æ©Ÿã€å¹³æ¿ç­‰é›»å­è¨­å‚™å……é›»ã€‚ç¾ä»£è¡Œå‹•é›»æºé€šå¸¸å…·æœ‰å¤šå€‹USBæ¥å£ã€å¿«å……åŠŸèƒ½ï¼Œæœ‰äº›é‚„é™„åŠ LEDæ‰‹é›»ç­’åŠŸèƒ½ã€‚æ˜¯ç¾ä»£äººå¤–å‡ºæ™‚ä¸å¯ç¼ºå°‘çš„å¯¦ç”¨å·¥å…·ã€‚",
                animation: "power-bank",
                message: "ç­”å°äº†ï¼è¡Œå‹•é›»æºæ˜¯ç¾ä»£ç”Ÿæ´»çš„ä¾¿åˆ©å……é›»å·¥å…·ï¼"
            },
            {
                icon: "ğŸ“¡",
                name: "è¡›æ˜Ÿå®šä½å„€",
                functions: ["æ‰¾ä½ç½®", "æ”¾éŸ³æ¨‚", "æ‹ç…§"],
                correctFunction: 0,
                description: "è¡›æ˜Ÿå®šä½å„€ï¼ˆGPSï¼‰æ˜¯åˆ©ç”¨è¡›æ˜Ÿä¿¡è™Ÿç¢ºå®šåœ°ç†ä½ç½®çš„é›»å­è¨­å‚™ã€‚å®ƒæ¥æ”¶å¤šé¡†è¡›æ˜Ÿçš„ä¿¡è™Ÿï¼Œé€šéè¨ˆç®—å¾—å‡ºç²¾ç¢ºçš„ç¶“ç·¯åº¦åº§æ¨™ã€‚å»£æ³›æ‡‰ç”¨æ–¼å°èˆªã€æ¸¬é‡ã€æ•‘æ´ç­‰é ˜åŸŸï¼Œç¾åœ¨æ™ºæ…§å‹æ‰‹æ©Ÿä¹Ÿå…§å»ºäº†GPSåŠŸèƒ½ã€‚",
                animation: "gps-device",
                message: "ç­”å°äº†ï¼è¡›æ˜Ÿå®šä½å„€æ˜¯ç²¾ç¢ºå®šä½çš„é«˜ç§‘æŠ€å·¥å…·ï¼"
            },
            {
                icon: "ğŸ”¬",
                name: "é¡¯å¾®é¡",
                functions: ["çœ‹æ¸…å¾®å°æ±è¥¿", "æ”¾å¤§è²éŸ³", "æ¸¬é‡è·é›¢"],
                correctFunction: 0,
                description: "é¡¯å¾®é¡æ˜¯ç”¨ä¾†è§€å¯Ÿå¾®å°ç‰©é«”çš„å…‰å­¸å„€å™¨ï¼Œé€šéé€é¡çµ„åˆå°‡ç‰©é«”æ”¾å¤§æ•¸åå€åˆ°æ•¸åƒå€ã€‚åˆ†ç‚ºå…‰å­¸é¡¯å¾®é¡å’Œé›»å­é¡¯å¾®é¡ç­‰é¡å‹ã€‚åœ¨ç”Ÿç‰©å­¸ã€é†«å­¸ã€ææ–™ç§‘å­¸ç­‰é ˜åŸŸæœ‰é‡è¦æ‡‰ç”¨ï¼Œå¹«åŠ©äººé¡æ¢ç´¢å¾®è§€ä¸–ç•Œçš„å¥§ç§˜ã€‚",
                animation: "microscope",
                message: "ç­”å°äº†ï¼é¡¯å¾®é¡æ˜¯æ¢ç´¢å¾®è§€ä¸–ç•Œçš„é‡è¦å·¥å…·ï¼"
            },
            {
                icon: "ğŸ§½",
                name: "æƒåœ°æ©Ÿå™¨äºº",
                functions: ["è‡ªå‹•æ‰“æƒ", "æŒ‰æ‘©", "çƒ¹é£ª"],
                correctFunction: 0,
                description: "æƒåœ°æ©Ÿå™¨äººæ˜¯æ™ºèƒ½å®¶é›»çš„ä»£è¡¨ï¼Œé…å‚™æ„Ÿæ‡‰å™¨å’Œç¨‹å¼æ§åˆ¶ç³»çµ±ï¼Œèƒ½è‡ªå‹•æ¸…æƒåœ°é¢ç°å¡µå’Œåƒåœ¾ã€‚ç¾ä»£æƒåœ°æ©Ÿå™¨äººå…·æœ‰è·¯å¾‘è¦åŠƒã€é¿éšœã€è‡ªå‹•å……é›»ç­‰åŠŸèƒ½ï¼Œå¤§å¤§æ¸›è¼•äº†å®¶å‹™è² æ“”ï¼Œæ˜¯æ™ºæ…§å®¶åº­çš„é‡è¦çµ„æˆéƒ¨åˆ†ã€‚",
                animation: "robot-vacuum",
                message: "ç­”å°äº†ï¼æƒåœ°æ©Ÿå™¨äººæ˜¯æ™ºèƒ½æ¸…æ½”çš„å¥½å¹«æ‰‹ï¼"
            },
            {
                icon: "â˜¢ï¸",
                name: "è¼»å°„åµæ¸¬å„€",
                functions: ["åµæ¸¬è¼»å°„", "æ¸¬è²éŸ³", "æ¸¬å…‰ç·š"],
                correctFunction: 0,
                description: "è¼»å°„åµæ¸¬å„€æ˜¯å°ˆé–€ç”¨ä¾†æª¢æ¸¬å’Œæ¸¬é‡è¼»å°„å¼·åº¦çš„ç²¾å¯†å„€å™¨ã€‚å®ƒèƒ½åµæ¸¬å„ç¨®é¡å‹çš„è¼»å°„ï¼Œå¦‚Î±ã€Î²ã€Î³å°„ç·šç­‰ï¼Œä¸¦ç™¼å‡ºè²éŸ³æˆ–é¡¯ç¤ºæ•¸å€¼è­¦å‘Šã€‚åœ¨æ ¸é›»å» ã€é†«é™¢ã€å¯¦é©—å®¤ç­‰å ´æ‰€æ˜¯é‡è¦çš„å®‰å…¨é˜²è­·è¨­å‚™ã€‚",
                animation: "radiation-detector",
                message: "ç­”å°äº†ï¼è¼»å°„åµæ¸¬å„€æ˜¯é‡è¦çš„å®‰å…¨é˜²è­·è¨­å‚™ï¼"
            }
        ];

        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let currentTool = null;
        let functionAnswered = false;
        let selectedTools = [];

        function startGame() {
            // Select 3 random tools
            selectedTools = tools.sort(() => 0.5 - Math.random()).slice(0, 3);
            currentQuestionIndex = 0;
            correctAnswers = 0;
            
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= selectedTools.length) {
                showFinalScreen();
                return;
            }

            currentTool = selectedTools[currentQuestionIndex];
            functionAnswered = false;

            // Update progress
            updateProgress();

            // Display tool
            document.getElementById('toolIcon').textContent = currentTool.icon;
            document.getElementById('toolName').textContent = currentTool.name;

            // Display tool description
            document.getElementById('toolDescription').textContent = currentTool.description;

            // Create function options
            createOptions('functionOptions', currentTool.functions, 'function');

            // Add emergence animation
            document.getElementById('toolIcon').classList.add('tool-emerge');
            setTimeout(() => {
                document.getElementById('toolIcon').classList.remove('tool-emerge');
            }, 1000);
        }

        function createOptions(containerId, options, type) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';

            options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option-card bg-gradient-to-r from-blue-400 to-purple-500 text-white p-4 rounded-xl text-center font-bold text-lg shadow-lg';
                optionDiv.textContent = option;
                optionDiv.onclick = () => selectOption(type, index);
                container.appendChild(optionDiv);
            });
        }

        function selectOption(type, selectedIndex) {
            const isCorrect = (type === 'function' && selectedIndex === currentTool.correctFunction);

            if (type === 'function') {
                functionAnswered = true;
            }

            if (isCorrect) {
                playSuccessSound();
                createSuccessEffect();
                
                setTimeout(() => {
                    correctAnswers++;
                    showSuccessScreen();
                }, 1000);
            } else {
                playErrorSound();
                showErrorScreen();
            }
        }

        function showSuccessScreen() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('successScreen').classList.remove('hidden');
            
            document.getElementById('successIcon').textContent = currentTool.icon;
            document.getElementById('successMessage').textContent = currentTool.message;
            
            createSuccessAnimation();
        }

        function showErrorScreen() {
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('errorScreen').classList.remove('hidden');
            
            document.getElementById('errorIcon').textContent = currentTool.icon;
        }

        function nextQuestion() {
            currentQuestionIndex++;
            document.getElementById('successScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            loadQuestion();
        }

        function retryQuestion() {
            document.getElementById('errorScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');
            
            // Reset question state
            functionAnswered = false;
            
            // Recreate options
            createOptions('functionOptions', currentTool.functions, 'function');
        }

        function showFinalScreen() {
            // Complete the progress bar
            document.getElementById('progressBar').style.width = '100%';
            document.getElementById('progressText').textContent = `${selectedTools.length}/${selectedTools.length}`;
            
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('finalScreen').classList.remove('hidden');
            
            document.getElementById('finalScore').textContent = `ä½ ç­”å°äº† ${correctAnswers}/${selectedTools.length} é¡Œï¼`;
        }

        function restartGame() {
            document.getElementById('finalScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
        }



        function updateProgress() {
            const progress = (currentQuestionIndex / selectedTools.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentQuestionIndex}/${selectedTools.length}`;
        }

        function createSuccessEffect() {
            const container = document.getElementById('toolDisplay');
            
            // Create bubbles
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const bubble = document.createElement('div');
                    bubble.className = 'bubble-effect';
                    bubble.style.left = Math.random() * 300 + 'px';
                    bubble.style.top = '100px';
                    container.appendChild(bubble);
                    
                    setTimeout(() => bubble.remove(), 2000);
                }, i * 200);
            }
        }

        function createSuccessAnimation() {
            const container = document.getElementById('successAnimation');
            
            // Create sparkles
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = Math.random() * 100 + 'px';
                    sparkle.style.top = '50px';
                    container.appendChild(sparkle);
                    
                    setTimeout(() => sparkle.remove(), 1500);
                }, i * 100);
            }
        }

        function playSuccessSound() {
            // Visual feedback for success
            document.body.style.background = 'linear-gradient(45deg, #10b981, #3b82f6)';
            setTimeout(() => {
                document.body.style.background = 'linear-gradient(to bottom right, rgb(168 85 247), rgb(236 72 153), rgb(59 130 246))';
            }, 300);
        }

        function playErrorSound() {
            // Visual feedback for error
            document.body.style.background = 'linear-gradient(45deg, #ef4444, #f97316)';
            setTimeout(() => {
                document.body.style.background = 'linear-gradient(to bottom right, rgb(168 85 247), rgb(236 72 153), rgb(59 130 246))';
            }, 300);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96becbb183b2f220',t:'MTc1NDY1MzgyMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
