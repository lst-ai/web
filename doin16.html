<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤¢å¢ƒé †åºå¤§æ‹¼åœ–</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        
        .dream-card {
            transition: all 0.3s ease;
            cursor: grab;
        }
        
        .dream-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .dream-card.dragging {
            opacity: 0.5;
            transform: rotate(5deg);
        }
        
        .drop-zone {
            transition: all 0.3s ease;
        }
        
        .drop-zone.drag-over {
            background-color: #e0f2fe;
            border-color: #0284c7;
            transform: scale(1.05);
        }
        
        .correct-animation {
            animation: correctPulse 0.6s ease-in-out;
        }
        
        @keyframes correctPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); background-color: #dcfce7; }
            100% { transform: scale(1); }
        }
        
        .star-animation {
            animation: starTwinkle 1s ease-in-out infinite;
        }
        
        @keyframes starTwinkle {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
        }
        
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-400 via-pink-300 to-blue-400 min-h-screen">
    <!-- å°é¢é  -->
    <div id="cover-page" class="min-h-screen flex items-center justify-center p-6">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl">
            <div class="text-6xl mb-6 floating">ğŸ®</div>
            <h1 class="text-4xl font-bold text-purple-800 mb-2">ğŸŒ™LSTéŠæˆ²å®¤-ã€Šå¤¢å¢ƒé †åºå¤§æ‹¼åœ–ã€‹</h1>
            <p class="text-lg text-purple-600 mb-6 font-medium">æ¯ç¯‡400-500å­—ï¼Œé©ç”¨ä¸­é«˜å¹´ç´š</p>
            <div class="text-lg text-gray-700 mb-8 leading-relaxed">
                æ­¡è¿ä¾†åˆ°å¤¢å¢ƒé †åºå¤§æ‹¼åœ–ï¼<br>
                æ¯ä¸€æ®µå¤¢ï¼Œéƒ½è—è‘—ä¸€å€‹é †åºç¥•å¯†ï½<br>
                å¿«ä¾†å¹«å¤¢å¢ƒæ‹¼å¥½å§ï¼
            </div>
            <button onclick="showInstructions()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-purple-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg mb-6">
                ğŸŒŸ é–‹å§‹éŠæˆ²
            </button>
            <div class="text-sm text-gray-600 border-t pt-4">
                <p class="mb-1">éŠæˆ²è¨­è¨ˆèˆ‡è£½ä½œï¼šå‘‚èˆ’å©·ï½œäº†è§£æ›´å¤šğŸ”</p>
                <p>è‡‰æ›¸æœå°‹ï¼šå‘‚èˆ’å©·ï½œğŸ“§ luuyobi@gmail.com</p>
            </div>
        </div>
    </div>

    <!-- éŠæˆ²èªªæ˜é  -->
    <div id="instructions-page" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl">
            <div class="text-5xl mb-6">ğŸ“–</div>
            <h2 class="text-3xl font-bold text-purple-800 mb-6">éŠæˆ²è¦å‰‡</h2>
            <div class="text-lg text-gray-700 mb-8 leading-relaxed space-y-4">
                <p>ğŸŒ™ è«‹é–±è®€å¤¢å¢ƒæ•…äº‹ï¼Œæ ¹æ“šæ™‚é–“é †åºæ’åˆ—åœ–ç‰‡å¡ç‰‡</p>
                <p>ğŸ¯ æ¯è¼ªæœ‰ 3 é¡Œï¼Œé¡Œç›®éš¨æ©ŸæŠ½å‡º</p>
                <p>ğŸ–±ï¸ æ‹–æ›³åœ–ç‰‡å¡ç‰‡åˆ°æ­£ç¢ºä½ç½®</p>
                <p>âœ¨ å®Œæˆæ‰€æœ‰é¡Œç›®ç²å¾—å¤¢å¢ƒå‹‡å£«ç¨±è™Ÿï¼</p>
            </div>
            <button onclick="showQuestionSelect()" class="bg-gradient-to-r from-blue-500 to-purple-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-blue-600 hover:to-purple-600 transform hover:scale-105 transition-all duration-300 shadow-lg">
                ğŸš€ é–‹å§‹æŒ‘æˆ°
            </button>
        </div>
    </div>

    <!-- é¡Œç›®é¸æ“‡å€ -->
    <div id="question-select-page" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl">
            <div class="text-5xl mb-6">ğŸ²</div>
            <h2 class="text-3xl font-bold text-purple-800 mb-6">é¸æ“‡ä½ çš„å¤¢å¢ƒå†’éšª</h2>
            <div class="text-lg text-gray-700 mb-8">
                é»æ“Šä»»ä¸€æŒ‰éˆ•é–‹å§‹éš¨æ©Ÿå¤¢å¢ƒæŒ‘æˆ°ï¼
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <button onclick="startRandomQuestions()" class="bg-gradient-to-r from-pink-400 to-red-400 text-white px-6 py-4 rounded-xl text-lg font-semibold hover:from-pink-500 hover:to-red-500 transform hover:scale-105 transition-all duration-300 shadow-lg">
                    ğŸŒ¸ å¤¢å¢ƒ A
                </button>
                <button onclick="startRandomQuestions()" class="bg-gradient-to-r from-blue-400 to-cyan-400 text-white px-6 py-4 rounded-xl text-lg font-semibold hover:from-blue-500 hover:to-cyan-500 transform hover:scale-105 transition-all duration-300 shadow-lg">
                    ğŸŒŠ å¤¢å¢ƒ B
                </button>
                <button onclick="startRandomQuestions()" class="bg-gradient-to-r from-green-400 to-emerald-400 text-white px-6 py-4 rounded-xl text-lg font-semibold hover:from-green-500 hover:to-emerald-500 transform hover:scale-105 transition-all duration-300 shadow-lg">
                    ğŸŒ¿ å¤¢å¢ƒ C
                </button>
            </div>
            <div class="text-sm text-gray-600">
                æ¯æ¬¡éŠæˆ²å°‡éš¨æ©Ÿé¸å‡º 3 å€‹å¤¢å¢ƒæ•…äº‹
            </div>
        </div>
    </div>

    <!-- éŠæˆ²é é¢ -->
    <div id="game-page" class="min-h-screen p-6 hidden">
        <div class="max-w-6xl mx-auto">
            <!-- é€²åº¦æ¢ -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-4 mb-6 shadow-lg">
                <div class="flex justify-between items-center mb-2">
                    <span class="text-lg font-semibold text-purple-800">é€²åº¦</span>
                    <span class="text-lg font-semibold text-purple-800" id="progress-text">1 / 3</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3">
                    <div id="progress-bar" class="bg-gradient-to-r from-purple-500 to-pink-500 h-3 rounded-full transition-all duration-500" style="width: 33.33%"></div>
                </div>
            </div>

            <!-- æ•…äº‹å€åŸŸ -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 mb-6 shadow-lg">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold text-purple-800" id="story-title">å¤¢å¢ƒæ•…äº‹</h3>
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-600">ç•«ç­†å·¥å…·ï¼š</span>
                        <button onclick="toggleDrawing()" id="draw-btn" class="bg-yellow-400 hover:bg-yellow-500 text-white px-3 py-1 rounded-full text-sm font-semibold transition-all duration-300">
                            ğŸ–ï¸ ç•«è¨˜è™Ÿ
                        </button>
                        <button onclick="clearDrawing()" class="bg-gray-400 hover:bg-gray-500 text-white px-3 py-1 rounded-full text-sm font-semibold transition-all duration-300">
                            ğŸ§¹ æ¸…é™¤
                        </button>
                    </div>
                </div>
                <div class="relative">
                    <canvas id="drawing-canvas" class="absolute top-0 left-0 w-full h-full pointer-events-none z-10" style="display: none;"></canvas>
                    <div class="text-gray-700 leading-relaxed text-lg" id="story-content">
                        <!-- æ•…äº‹å…§å®¹å°‡åœ¨é€™è£¡é¡¯ç¤º -->
                    </div>
                </div>
            </div>

            <!-- éŠæˆ²å€åŸŸ -->
            <div class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-lg">
                <h4 class="text-xl font-bold text-purple-800 mb-4">è«‹æŒ‰ç…§æ•…äº‹é †åºæ’åˆ—åœ–ç‰‡ï¼š</h4>
                
                <!-- ç­”æ¡ˆå€åŸŸ -->
                <div class="grid grid-cols-3 gap-4 mb-6" id="answer-slots">
                    <div class="drop-zone border-3 border-dashed border-gray-300 rounded-xl h-32 flex items-center justify-center text-gray-500 font-semibold" data-position="0">
                        ç¬¬ä¸€å€‹
                    </div>
                    <div class="drop-zone border-3 border-dashed border-gray-300 rounded-xl h-32 flex items-center justify-center text-gray-500 font-semibold" data-position="1">
                        ç¬¬äºŒå€‹
                    </div>
                    <div class="drop-zone border-3 border-dashed border-gray-300 rounded-xl h-32 flex items-center justify-center text-gray-500 font-semibold" data-position="2">
                        ç¬¬ä¸‰å€‹
                    </div>
                </div>

                <!-- åœ–ç‰‡å¡ç‰‡å€åŸŸ -->
                <div class="grid grid-cols-3 gap-4 mb-6" id="card-area">
                    <!-- åœ–ç‰‡å¡ç‰‡å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
                </div>

                <!-- æª¢æŸ¥ç­”æ¡ˆæŒ‰éˆ• -->
                <div class="text-center space-x-4">
                    <button onclick="clearAllAnswers()" class="bg-gradient-to-r from-gray-500 to-gray-600 text-white px-6 py-3 rounded-full text-lg font-semibold hover:from-gray-600 hover:to-gray-700 transform hover:scale-105 transition-all duration-300 shadow-lg">
                        ğŸ§¹ æ¸…é™¤é‡æ’
                    </button>
                    <button id="check-answer" onclick="checkAnswer()" class="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-8 py-3 rounded-full text-lg font-semibold hover:from-green-600 hover:to-emerald-600 transform hover:scale-105 transition-all duration-300 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        ğŸ” æª¢æŸ¥ç­”æ¡ˆ
                    </button>
                </div>

                <!-- çµæœé¡¯ç¤º -->
                <div id="result-area" class="mt-6 text-center hidden">
                    <!-- çµæœå°‡åœ¨é€™è£¡é¡¯ç¤º -->
                </div>
            </div>
        </div>
    </div>

    <!-- å®Œæˆé  -->
    <div id="completion-page" class="min-h-screen flex items-center justify-center p-6 hidden">
        <div class="bg-white/90 backdrop-blur-sm rounded-3xl p-8 max-w-2xl text-center shadow-2xl">
            <div class="text-6xl mb-6 star-animation">ğŸ‰</div>
            <h2 class="text-4xl font-bold text-purple-800 mb-6">æ­å–œå®Œæˆï¼</h2>
            <div class="text-lg text-gray-700 mb-8 leading-relaxed">
                ä½ å®Œæˆäº†é€™è¼ªå¤¢å¢ƒæŒ‘æˆ°ï¼<br>
                ä½ æ˜¯çœŸæ­£çš„å¤¢å¢ƒé †åºå¤§å¸«ï¼<br>
                æƒ³å†ç©ä¸€æ¬¡å—ï¼Ÿ
            </div>
            <div class="space-y-4">
                <button onclick="restartGame()" class="bg-gradient-to-r from-purple-500 to-pink-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-purple-600 hover:to-pink-600 transform hover:scale-105 transition-all duration-300 shadow-lg block w-full">
                    ğŸ”„ å†ç©ä¸€æ¬¡
                </button>
                <button onclick="backToHome()" class="bg-gradient-to-r from-blue-500 to-cyan-500 text-white px-8 py-4 rounded-full text-xl font-semibold hover:from-blue-600 hover:to-cyan-600 transform hover:scale-105 transition-all duration-300 shadow-lg block w-full">
                    ğŸ  å›åˆ°é¦–é 
                </button>
            </div>
        </div>
    </div>

    <script>
        // å¤¢å¢ƒæ•…äº‹è³‡æ–™åº«
        const dreamStories = [
            {
                title: "å½©è™¹é¯¨é­šçš„ç§˜å¯†ä»»å‹™",
                content: "æ˜¨æ™šçš„å¤¢å¢ƒå¥½å¥‡å¦™ï¼Œæˆ‘ååœ¨çª—é‚Šçœ‹æ˜Ÿæ˜Ÿï¼Œä¸çŸ¥ä¸è¦ºå°±ç¡è‘—äº†ã€‚çªç„¶ï¼Œæˆ‘æ„Ÿè¦ºè‡ªå·±åƒç¾½æ¯›ä¸€æ¨£é£„äº†èµ·ä¾†ï¼Œé£›å‘å¤œç©ºã€‚æˆ‘ç©¿éå±¤å±¤é›²æœµï¼Œä¾†åˆ°ä¸€ç‰‡é–ƒè‘—å½©è‰²å…‰èŠ’çš„å¤©ç©ºè‰åŸã€‚æ­£ç•¶æˆ‘é©šå˜†çœ¼å‰æ™¯è‰²æ™‚ï¼Œä¸€éš»å½©è™¹é¯¨é­šå¾é›²è£¡æ¸¸å‡ºä¾†ï¼Œç‰ çš„èº«é«”åƒå¯¶çŸ³èˆ¬ç™¼äº®ï¼Œé±—ç‰‡éš¨è‘—æœˆå…‰é–ƒçˆã€‚å½©è™¹é¯¨é­šç”¨æº«æŸ”çš„è²éŸ³å°æˆ‘èªªï¼šã€Œåœ°çƒæœ‰å€‹éœ€è¦å¹«åŠ©çš„åœ°æ–¹ï¼Œä½ é¡˜æ„å’Œæˆ‘ä¸€èµ·å»çœ‹çœ‹å—ï¼Ÿã€æˆ‘é»é»é ­ï¼Œç‰ å°±ç”¨å°¾å·´æ‹å‡ºä¸€é“ä¸ƒå½©å…‰åœˆï¼Œæˆ‘å€‘ä¸€èµ·è¡é€²å»ã€‚é‚£æ˜¯ä¸€ç‰‡å¿«è¦ä¹¾æ¯çš„æ£®æ—ï¼Œæ¨¹è‘‰è®Šé»ƒï¼Œå°å‹•ç‰©å€‘çœ‹èµ·ä¾†å¾ˆè™›å¼±ã€‚æˆ‘æ‹¿å‡ºä¸€é¡†æ˜Ÿæ˜Ÿæœå¯¦ï¼Œè¼•è¼•åŸ‹é€²åœŸè£¡ï¼Œæ²’å¤šä¹…ï¼Œæ°´æ³‰æ¹§å‡ºï¼Œæ•´åº§æ£®æ—åˆæ¢å¾©ç”Ÿæ©Ÿã€‚ã€Œè¬è¬ä½ ï¼Œæˆ‘å€‘å®Œæˆäº†ä»»å‹™ã€‚ã€é¯¨é­šèªªå®Œï¼ŒæŠŠæˆ‘è¼‰å›é›²æœµé‚Šç·£ï¼Œè®“æˆ‘å¾é‚£è£¡æ…¢æ…¢é™è½å›è‡ªå·±çš„åºŠã€‚é†’ä¾†æ™‚ï¼Œæˆ‘ç™¼ç¾æ•é ­é‚Šæœ‰ä¸€ç‰‡æ™¶ç‘©çš„é­šé±—ï¼Œä¸Šé¢å°è‘—ä¸€é“å½©è™¹ã€‚",
                cards: ["ğŸŒ™ é£„å‘é›²ç«¯", "ğŸ‹ å½©è™¹é¯¨é­š", "ğŸŒˆ å½©è™¹é­šé±—å›åˆ°åºŠé‚Š"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "æ˜Ÿæ˜Ÿå±‹çš„ç¥•å¯†ä»»å‹™",
                content: "å¤¢è£¡ï¼Œæˆ‘èµ°é€²ä¸€æ£µçœ‹ä¼¼æ™®é€šçš„è€æ¨¹ï¼Œå»ç™¼ç¾è£¡é ­è—è‘—ä¸€å€‹ç™¼äº®çš„æ¨¹æ´ã€‚æˆ‘å°å¿ƒç¿¼ç¿¼åœ°å½ä¸‹è…°ï¼Œèµ°é€²å»ï¼Œç™¼ç¾è£¡é¢åƒä¸€é–“æº«æš–çš„æ›¸æˆ¿ï¼Œå¤©èŠ±æ¿æ›è‘—å¾®å…‰çš„è—¤è”“ï¼Œä¸€ä½éŠ€é«®ç²¾éˆå°æˆ‘èªªï¼šã€Œä½ è¢«é¸ä¸­äº†ï¼Œé€™æŠŠéŠ€è‰²é‘°åŒ™å¯ä»¥æ‰“é–‹æ˜Ÿæ˜Ÿå±‹çš„å¤§é–€ã€‚ã€æˆ‘æ¥éé‘°åŒ™ï¼Œèµ°ä¸Šä¸€æ¢é–ƒçˆçš„éšæ¢¯ï¼Œä¾†åˆ°å¤©ç©ºä¸­æ¼‚æµ®è‘—çš„ä¸€æ£Ÿé€æ˜å°å±‹ã€‚æˆ‘æ·±å¸ä¸€å£æ°£ï¼ŒæŠŠé‘°åŒ™æ’é€²é–€é–ã€‚é–€æ‰“é–‹çš„ç¬é–“ï¼Œæˆåƒä¸Šè¬é¡†æœƒèªªè©±çš„æ˜Ÿæ˜Ÿå¾å±‹å…§é£›å‡ºï¼Œå®ƒå€‘ç”¨ä¸åŒèªè¨€è¬›è¿°è‘—ä¸–ç•Œçš„æ•…äº‹ï¼Œæœ‰çš„è¬›åŸƒåŠé‡‘å­—å¡”ï¼Œæœ‰çš„è¬›æœªä¾†æ©Ÿå™¨äººã€‚æˆ‘ååœ¨æ˜Ÿæ˜Ÿå¢Šå­ä¸Šï¼Œè½å¾—å…¥è¿·ï¼Œç›´åˆ°ç²¾éˆå‘Šè¨´æˆ‘ï¼šã€Œæ™‚é–“åˆ°äº†ï¼Œè¨˜å¾—ä½ è½éçš„æ•…äº‹ï¼Œå®ƒå€‘æœƒæˆç‚ºä½ çš„åŠ›é‡ã€‚ã€æˆ‘ç·©ç·©èµ°å‡ºæ˜Ÿæ˜Ÿå±‹ï¼Œæ„Ÿè¦ºè…¦æµ·è£¡äº®èµ·äº†å¥½å¤šç›ç‡ˆã€‚é†’ä¾†æ™‚ï¼Œçª—å°ä¸Šç«Ÿå¤šäº†ä¸€æŠŠéŠ€è‰²é‘°åŒ™åŠé£¾ï¼Œæˆ‘å°å¿ƒæ”¶å¥½ï¼Œå¿ƒè£¡æš—æƒ³ï¼šæ˜Ÿæ˜Ÿå±‹çœŸçš„å­˜åœ¨å—ï¼Ÿ",
                cards: ["ğŸŒ³ æ¨¹æ´", "ğŸ—ï¸ éŠ€è‰²é‘°åŒ™", "â­ æ˜Ÿæ˜Ÿå±‹"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "é›¨å‚˜ç†±æ°£çƒæ­·éšªè¨˜",
                content: "é‚£å¤©æ™šä¸Šï¼Œæˆ‘å¤¢è¦‹è‡ªå·±åœ¨æ ¡é–€å£æ’è‘—é›¨å‚˜èµ°è·¯ã€‚çªç„¶ï¼Œä¸€é™£é¢¨å¹ä¾†ï¼Œæˆ‘çš„é€æ˜é›¨å‚˜ç«Ÿç„¶é–‹å§‹æ—‹è½‰ã€è†¨è„¹ï¼Œæ…¢æ…¢è®Šæˆäº†ä¸€é¡†å½©è‰²ç†±æ°£çƒï¼Œé‚„é™„å¸¶ç±ƒå­ï¼æˆ‘å°±é€™æ¨£è¢«ç†±æ°£çƒå¸¶ä¸Šäº†å¤©ç©ºã€‚å¾é«˜ç©ºå¾€ä¸‹çœ‹ï¼ŒåŸå¸‚åƒç©æœ¨æ’æˆä¸€æ ¼ä¸€æ ¼ï¼Œé¦¬è·¯åƒæµå‹•çš„é»‘å¸¶ï¼Œæ“å ´ä¸Šçš„å­¸ç”Ÿçœ‹èµ·ä¾†åƒèèŸ»åœ¨æ´»å‹•ã€‚ç†±æ°£çƒé£„å‘€é£„ï¼Œå¸¶æˆ‘ç¶“éå¤§æµ·ã€æ²™æ¼ å’Œæ¥µå…‰ï¼Œæœ€å¾Œé™è½åœ¨ä¸€å€‹ç©ºä¸­å³¶å¶¼ï¼Œé‚£è£¡é•·è‘—æœƒå”±æ­Œçš„èŠ±ã€‚æˆ‘èººåœ¨æŸ”è»Ÿçš„èŠ±åºŠä¸Šç¡äº†ä¸€æœƒå…’ã€‚é†’ä¾†æ™‚ï¼Œæˆ‘ç™¼ç¾ç†±æ°£çƒå·²ç¶“åœåœ¨æˆ‘å®¶å±‹é ‚ã€‚ç‰ åƒè½å¾—æ‡‚æˆ‘å¿ƒè£¡çš„è²éŸ³ä¸€æ¨£ï¼ŒæŠŠæˆ‘æº«æŸ”é€å›æˆ¿é–“ã€‚å°±åœ¨æˆ‘é‡æ–°èººå›åºŠä¸Šæ™‚ï¼Œç†±æ°£çƒè¼•è¼•å‡ç©ºï¼Œæ¶ˆå¤±åœ¨æœˆå…‰è£¡ã€‚æˆ‘å¾å¤¢ä¸­é†’ä¾†æ™‚ï¼Œæ•é ­é‚Šç«Ÿç„¶æœ‰ä¸€ç‰‡å°å°çš„é€æ˜å‚˜å¸ƒï¼Œé–ƒè‘—ä¸ƒå½©çš„å…‰ã€‚",
                cards: ["â˜‚ï¸ æ‰“é–‹é›¨å‚˜", "ğŸˆ ç†±æ°£çƒ", "ğŸï¸ ç©ºä¸­å³¶å¶¼"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "å±±æ´è£¡çš„è—é¾å‚³èªª",
                content: "é‚£ä¸€æ™šçš„å¤¢å¥½åƒé›»å½±æƒ…ç¯€ã€‚æˆ‘æ‹¿è‘—ä¸€ç›å°æ²¹ç‡ˆï¼Œèµ°é€²äº†ä¸€å€‹é»‘æš—çš„å±±æ´ã€‚æ¯èµ°ä¸€æ­¥ï¼Œå›éŸ³å°±è·Ÿè‘—æˆ‘èµ°ï¼Œåœ°ä¸Šæœ‰é–ƒé–ƒç™¼å…‰çš„çŸ³é ­ã€‚æˆ‘å¿ƒæƒ³ï¼šé€™è£¡ä¸€å®šè—è‘—ä»€éº¼ç¥•å¯†ã€‚èµ°åˆ°æ´çš„æœ€æ·±è™•ï¼Œæˆ‘çœ‹è¦‹ä¸€é¡†å·¨å¤§çš„å¯¶çŸ³ï¼Œåƒè—å¯¶çŸ³ä¸€æ¨£é€æ˜ã€‚æˆ‘å‰›ä¸€ç¢°å®ƒï¼Œå®ƒç«Ÿç„¶è£‚é–‹ï¼Œä¸€éš»è¿·ä½ è—è‰²å°é¾å¾è£¡é¢æ¢å‡ºé ­ã€‚ã€Œè¬è¬ä½ å–šé†’æˆ‘ï¼Œæˆ‘æ˜¯å®ˆè­·é€™åº§å±±çš„æœ€å¾Œä¸€æ¢é¾ã€‚ã€ç‰ ä½è²èªªã€‚å°é¾å¸¶æˆ‘é£›å‡ºå±±æ´ï¼Œç¶“éé«˜å±±èˆ‡æºªè°·ï¼Œé‚„ç”¨å°¾å·´æ®å‡ºä¸€é“è—è‰²å…‰èŠ’ï¼Œåœ¨å¤©ç©ºä¸­ç•«å‡ºä¸€æ¢é¾å½¢ã€‚ç‰ èªªè‡ªå·±æ²‰ç¡äº†åƒå¹´ï¼Œåªæœ‰çœŸæ­£ç›¸ä¿¡å‚³èªªçš„äººæ‰èƒ½å–šé†’ç‰ ã€‚ç•¶æˆ‘å€‘å›åˆ°å±±æ´å£æ™‚ï¼Œå°é¾è¼•è²èªªï¼šã€Œä»¥å¾Œä½ æœƒå†è¦‹åˆ°æˆ‘ï¼Œä½†åªåœ¨å¤¢ä¸­ã€‚ã€ç‰ ä¾¿å›åˆ°å¯¶çŸ³ä¸­ç¡å»ã€‚æˆ‘é»é»é ­ï¼Œé—œä¸Šç‡ˆï¼Œè½‰èº«é›¢é–‹ã€‚æ¸…æ™¨é†’ä¾†ï¼Œæˆ‘ç™¼ç¾åºŠé‚Šæœ‰ä¸€é¡†å°å°çš„è—è‰²çŸ³å­ï¼Œå†°å†°çš„ã€é–ƒé–ƒçš„ã€‚",
                cards: ["ğŸ•³ï¸ å±±æ´", "ğŸ’ ç™¼å…‰çŸ³é ­", "ğŸ² å°é¾"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "è¥¿ç“œæ¼”å”±æœƒ",
                content: "æˆ‘å¤¢è¦‹è‡ªå·±åŠå¤œè‚šå­é¤“ï¼Œæ‰“é–‹å†°ç®±ï¼Œç™¼ç¾è£¡é¢æœ‰ä¸€é¡†å¤§å¤§çš„è¥¿ç“œï¼Œä¸Šé¢ç«Ÿç„¶è²¼è‘—ä¸€å¼µç´™æ¢ï¼šã€Œå”±æ­Œå¤©åï¼Œä»Šæ™šé–‹å”±ï¼ã€æˆ‘æ­£è¦ºå¾—å¥‡æ€ªï¼Œé‚£é¡†è¥¿ç“œå¿½ç„¶æ‰“é–‹å˜´å·´é–‹å§‹å”±æ­Œï¼Œè€Œä¸”é‚„å”±å¾—è¶…ç´šå¥½è½ï¼ç‰ èªªä»Šæ™šæ˜¯æ°´æœç•ŒéŸ³æ¨‚ç¯€ï¼Œè¦æˆ‘è¶•å¿«ä¸Šå°ä¼´å¥ã€‚æˆ‘ä¸€çœ¨çœ¼å°±ç«™åœ¨æœæ±åšæˆçš„èˆå°ä¸Šï¼Œæ—é‚Šæ˜¯è‰è“æ‰“é¼“ã€é³³æ¢¨æ‹‰å°æç´ã€é¦™è•‰åˆéŸ³ï¼Œè§€çœ¾å¸­åæ»¿äº†æˆ´å¢¨é¡çš„å“ˆå¯†ç“œã€æ–æ——å¶å–Šçš„è—è“ï¼Œé‚„æœ‰è·³èˆçš„èŠ’æœã€‚æˆ‘è·Ÿè‘—ç¯€å¥å”±è·³ï¼Œé‚„å­¸äº†è¥¿ç“œçš„æ‹›ç‰Œå‹•ä½œï¼šã€Œåˆ‡åŠè½‰åœˆåŠ å†’æ³¡ï¼ã€å…¨å ´å°–å«ã€‚å”±åˆ°æœ€å¾Œï¼Œæˆ‘å’Œè¥¿ç“œä¸€èµ·é èº¬ï¼Œå…¨å ´ç‘ä¸‹æœå‡ç´™èŠ±ï¼Œæ°£æ°›å—¨åˆ°çˆ†ã€‚æ¼”å”±æœƒçµæŸå¾Œï¼Œè¥¿ç“œçµ¦æˆ‘ä¸€å¼µ VIP æœå¯¦è­‰æ˜å¡ï¼Œä¸Šé¢å¯«è‘—ï¼šã€Œæœ€ä½³èˆå°æ­æª”ã€ã€‚é†’ä¾†æ™‚ï¼Œæˆ‘çš„åºŠå–®ç«Ÿç„¶æœ‰ä¸€ç‰‡ç”œç”œçš„æœå‡èŠ±ç“£ï¼Œé‚„ç™¼å‡ºä¸€é»é»æ­Œè²ã€‚",
                cards: ["ğŸ§Š å†°ç®±", "ğŸ‰ å”±æ­Œçš„è¥¿ç“œ", "ğŸ­ æœæ±èˆå°"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "é£›åºŠçš„å¤ªç©ºæ—…è¡Œ",
                content: "é‚£å¤©å¤œè£¡ï¼Œæˆ‘ç´¯å¾—å€’é ­å°±ç¡ã€‚å¿½ç„¶ï¼ŒåºŠé–‹å§‹éœ‡å‹•ï¼ŒåºŠè…³è®Šæˆå¼•æ“ï¼ŒåºŠé ­å‡èµ·æ“æ§æ¡¿ã€‚æˆ‘é‚„ä¾†ä¸åŠåæ‡‰ï¼Œæ•´å¼µåºŠå°±ã€Œè½Ÿï¼ã€åœ°é£›å‘å¤©èŠ±æ¿ï¼Œç©¿ç ´é ‚ï¼Œé€²å…¥é–ƒçˆçš„æ˜Ÿç©ºã€‚æˆ‘åœ¨åŠç©ºä¸­åèµ·ä¾†ï¼Œçœ‹è¦‹åœŸæ˜Ÿçš„å…‰ç’°åœ¨æˆ‘çœ¼å‰æ—‹è½‰ï¼Œæœˆäº®åƒä¸€å¼µç†Ÿç¡çš„è‡‰å°æˆ‘å¾®ç¬‘ï¼Œå½—æ˜Ÿå¾é æ–¹å‘¼å˜¯è€Œéã€‚åºŠæ…¢æ…¢é™è½åœ¨ä¸€é¡†è»Ÿç¶¿ç¶¿çš„æ˜Ÿçƒä¸Šï¼Œåƒæ£‰èŠ±ç³–ä¸€æ¨£è¸©èµ·ä¾†æœƒå½ˆã€‚æˆ‘åœ¨é‚£è£¡é‡è¦‹ä¸€é¡†æœƒèªªè©±çš„æ˜Ÿæ˜Ÿï¼Œå®ƒé‚€è«‹æˆ‘ç©ã€Œæ˜Ÿæ˜Ÿä¸Ÿä¸Ÿæ¨‚ã€â”€â”€æˆ‘æ¯ä¸Ÿä¸­ä¸€é¡†æ˜Ÿæ˜Ÿï¼Œå®ƒå°±è®Šæˆä¸€æ®µæœ‰è¶£çš„æ•…äº‹ï¼Œæœ‰é—œå®‡å®™çš„èª•ç”Ÿã€é»‘æ´çš„ç¥•å¯†ã€å¤ªé™½çš„ç¬‘è²ã€‚ç©åˆ°ä¸€åŠï¼ŒåºŠé–‹å§‹ç™¼å‡ºã€Œé€¼é€¼ã€è²ï¼Œæé†’æˆ‘è©²å›å®¶äº†ã€‚æˆ‘å‘æ˜Ÿæ˜Ÿæ®æ‰‹å‘Šåˆ¥ï¼Œå®ƒé€çµ¦æˆ‘ä¸€é¡†å°å°çš„éŠ€è‰²å…‰é»ï¼Œèªªé‚£æ˜¯æˆ‘çš„å¤¢å¢ƒæŒ‡å—é‡ã€‚éš”å¤©é†’ä¾†ï¼Œæˆ‘çš„æ£‰è¢«ä¸Šç«Ÿç„¶å‡ºç¾äº†ä¸€å€‹é–ƒé–ƒç™¼äº®çš„æŒ‡å—é‡åœ–æ¨£ï¼Œå¥½åƒçœŸçš„å¾å¤ªç©ºå¸¶å›ä¾†çš„ç¦®ç‰©ã€‚",
                cards: ["ğŸ›ï¸ ç«ç®­åºŠ", "ğŸª æ˜Ÿçƒ", "â­ æ˜Ÿæ˜ŸéŠæˆ²"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "æ³¡æ³¡æ—…è¡Œå®¶",
                content: "æˆ‘å¤¢è¦‹è‡ªå·±åœ¨æµ´å®¤æ´—æ¾¡ï¼Œæ°´é¾é ­å¿½ç„¶æµå‡ºä¸€ç“¶äº®è—è‰²çš„è—¥æ°´ã€‚æˆ‘å¥½å¥‡åœ°å–äº†ä¸€å£ï¼Œèº«é«”å±…ç„¶æ…¢æ…¢è®Šé€æ˜ã€è®Šè¼•ï¼Œæœ€å¾Œè®Šæˆä¸€å€‹å¤§å¤§çš„æ³¡æ³¡ï¼æˆ‘è¢«é¢¨å¹å‡ºçª—æˆ¶ï¼Œåƒç†±æ°£çƒä¸€æ¨£é£„åœ¨ç©ºä¸­ã€‚æ²¿é€”ç¶“éå…¬åœ’çš„æ¨¹æ¢¢ã€å­¸æ ¡çš„å±‹é ‚ï¼Œé‚„é£„éä¸€ç¾¤ä¸Šèª²ä¸­çš„é´¿å­è€å¸«å’Œé³¥å­¸ç”Ÿã€‚ç‰ å€‘ä¸€é‚Šå”±æ­Œä¸€é‚Šå¯«å­—ï¼Œç­†å°–æ˜¯ç¾½æ¯›ï¼Œå¢¨æ°´æ˜¯èŠ±èœœã€‚ç‰ å€‘çœ‹åˆ°æˆ‘ï¼Œç†±æƒ…åœ°åœéä¾†å”±æ­¡è¿æ­Œï¼šã€Œæ³¡æ³¡ä¾†äº†ï½æ³¡æ³¡ä¾†äº†ï½ã€æ³¡æ³¡ç¹¼çºŒé£„ï¼Œé£„åˆ°æµ·ä¸Šï¼Œé‡åˆ°ä¸€è‰˜ç”¨è‘‰å­åšçš„å¸†èˆ¹ã€‚ä¸€éš»æµ·é¾œèˆ¹é•·å‘æˆ‘æ•¬ç¦®ï¼Œèªªæˆ‘æ˜¯ç¬¬ä¸€ä½ä¾†è¨ªçš„ã€Œç©ºä¸­æ³¡æ³¡æ—ã€ã€‚ç‰ é€æˆ‘ä¸€é¡†æ˜Ÿæ²™ï¼Œç¥æˆ‘æ—…é€”å¹³å®‰ã€‚å›åˆ°å®¶æ™‚ï¼Œæˆ‘çš„æ³¡æ³¡èº«é«”æ…¢æ…¢ç¸®å°ï¼Œæœ€å¾Œè½åœ¨å±‹é ‚ï¼Œæ¢å¾©åŸæ¨£ã€‚é†’ä¾†æ™‚ï¼Œæˆ‘å˜´é‚Šé‚„æœ‰ä¸€åœˆé€æ˜çš„å°æ³¡æ³¡ï¼Œé–ƒè‘—äº®å…‰ã€‚",
                cards: ["ğŸ§ª è—¥æ°´", "ğŸ«§ æ³¡æ³¡é£„æµ®", "ğŸ¦ é³¥å…’è€å¸«"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "ç³–æœé›¨çš„ç§˜å¯†",
                content: "åœ¨å¤¢ä¸­ï¼Œæˆ‘æ”¶åˆ°ä¸€å°ç¥ç¥•ä¿¡ï¼Œä¸Šé¢åªå¯«äº†ä¸‰å€‹å­—ï¼šã€Œç¨®ä¸‹å»ã€‚ã€æˆ‘ä¸€ä½é ­ï¼Œç™¼ç¾æ‰‹ä¸­æ¡è‘—ä¸€é¡†äº”å½©ç¹½ç´›çš„ç³–æœç¨®å­ã€‚æˆ‘ç…§è‘—æŒ‡ç¤ºï¼ŒæŠŠå®ƒç¨®åœ¨èŠ±åœ’è£¡çš„ç©ºåœ°ä¸Šã€‚ä¸åˆ°å¹¾åˆ†é˜ï¼Œä¸€æ£µé«˜å¤§çš„ç³–æœæ¨¹ã€Œå’»ã€åœ°å¾åœ°ä¸Šé•·å‡ºä¾†ã€‚å®ƒçš„æ¨¹å¹¹æ˜¯å·§å…‹åŠ›ï¼Œæ¨¹ææ˜¯å¤ªå¦ƒç³–ï¼Œè‘‰å­åƒæ£‰èŠ±ç³–ä¸€æ¨£æŸ”è»Ÿã€‚æœ€å¸å¼•æˆ‘çš„æ˜¯ï¼Œå®ƒçš„æœå¯¦ç«Ÿç„¶æœƒç™¼å…‰ï¼Œåƒå¤œç‡ˆä¸€æ¨£ç…§äº®æ•´åº§èŠ±åœ’ã€‚å¿½ç„¶ï¼Œå¤©ç©ºè®Šå¾—ç²‰ç´…ï¼Œé›²æœµåƒè»Ÿç³–ä¸€æ¨£åŒ–é–‹ï¼Œé–‹å§‹ä¸‹èµ·ã€Œç³–æœé›¨ã€ï¼æ£’æ£’ç³–åƒé›¨é»ä¸€æ¨£è½ä¸‹ï¼Œæ£‰èŠ±ç³–éš¨é¢¨é£„èˆï¼Œåœ°ä¸Šç©èµ·ä¸€å±¤ç”œæ»‹æ»‹çš„ç³–æ¹–ã€‚æˆ‘æ’èµ·é¤…ä¹¾åšçš„é›¨å‚˜ï¼Œåœ¨ç³–æœé›¨ä¸­æ—‹è½‰è·³èˆï¼Œè¸©å‡ºçš„æ°´èŠ±éƒ½æ˜¯æ°´æœå£å‘³ã€‚è·³è‘—è·³è‘—ï¼Œæˆ‘è½è¦‹é æ–¹æœ‰äººå–Šï¼šã€Œç³–æœä»™å­è¦é¸å‡ºå®ˆè­·è€…ï¼ã€æˆ‘è‡ªå‘Šå¥®å‹‡èµ°ä¸Šå‰ï¼Œè¢«æˆäºˆä¸€æ¢ç¹¡æœ‰ã€Œç³–æœå‹‡å£«ã€å­—æ¨£çš„çµ²å¸¶ã€‚é†’ä¾†å¾Œï¼Œæˆ‘çš„æ•é ­é‚Šç«Ÿç„¶å¤šäº†ä¸€æ¢æ·¡ç²‰è‰²çš„çµ²å¸¶ï¼Œä¸Šé¢é‚„é»è‘—ä¸€é¡†å°å°çš„è»Ÿç³–ã€‚",
                cards: ["ğŸŒ± ç³–æœç¨®å­", "ğŸŒ³ ç³–æœæ¨¹", "ğŸŒ§ï¸ ç³–æœé›¨"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "é›»è¦–å†’éšªè¨˜",
                content: "æ™šä¸Šæˆ‘åœ¨å®¢å»³çœ‹æœ€å–œæ­¡çš„å¡é€šï¼Œçœ‹åˆ°ä¸€åŠï¼Œé›»è¦–å¿½ç„¶ã€Œå•ªï¼ã€çš„ä¸€è²è®Šäº®ï¼Œè¢å¹•åƒæ¼©æ¸¦ä¸€æ¨£æŠŠæˆ‘å¸äº†é€²å»ï¼æˆ‘é©šè¨åœ°ç™¼ç¾è‡ªå·±è®Šæˆå¡é€šäººç‰©ï¼Œç©¿è‘—æŠ«é¢¨ã€æ‹¿è‘—é›·å°„åŠï¼Œç«™åœ¨å†’éšªæ£®æ—çš„å…¥å£ã€‚æˆ‘è·Ÿè‘—ä¸»è§’ä¸€èµ·é—–é—œã€èº²é™·é˜±ã€æ‰“æ€ªç¸ã€‚æˆ‘å€‘è·³éå²©æ¼¿æ¹–ï¼Œèº²éæœƒèªªè¬Šçš„ä»™äººæŒï¼Œé‚„è·Ÿæ™‚é–“æ©Ÿå™¨è³½è·‘ã€‚ä¸»è§’èªªï¼šã€Œä½ æ˜¯é€™ä¸€é›†çš„é—œéµè§’è‰²ï¼Œæ²’æœ‰ä½ å°±éä¸äº†é—œï¼ã€æœ€å¾Œæˆ‘å€‘åœ¨å¤©ç©ºåŸå ¡è£¡å°æŠ—çµ‚æ¥µå¤§é­”ç‹ï¼Œä¸€èµ·åˆåŠ›ç™¼å‹•ã€Œå‹æƒ…å…‰æ³¢ã€ï¼ŒæŠŠå£è›‹æ‰“å›å‹•ç•«æ›¸è£¡ã€‚è§€çœ¾æ­¡å‘¼ï¼Œæˆ‘å€‘é«˜èˆ‰å‹åˆ©ä¹‹åŠï¼ŒåŸå ¡ä¸Šæ–¹æ”¾èµ·å¡é€šç…™ç«ã€‚ä»»å‹™å®Œæˆå¾Œï¼Œä¸»è§’é€æˆ‘ä¸€å¼µå¡é€šå‹‡å£«è­‰æ˜å¡ï¼Œä¸Šé¢å¯«è‘—æˆ‘çš„åå­—ã€‚é›»è¦–è¢å¹•å†åº¦é–ƒçˆï¼Œæˆ‘å¾æ²™ç™¼ä¸Šé†’ä¾†ï¼Œæ‰‹ä¸­ç«Ÿç„¶æ¡è‘—ä¸€å¼µç•«æœ‰æˆ‘å¡é€šæ¨£å­çš„å¡ç‰‡ï¼",
                cards: ["ğŸ“º é›»è¦–æ¼©æ¸¦", "ğŸ¦¸ å¡é€šè§’è‰²", "ğŸŒ² å†’éšªæ£®æ—"],
                correctOrder: [0, 1, 2]
            },
            {
                title: "åœ°åœ–èˆ‡æœƒèªªè©±çš„æ›¸",
                content: "æˆ‘åœ¨å¤¢è£¡èµ°é€²æ£®æ—ï¼Œä¸€é™£é¢¨å¹ä¾†ï¼Œä¸€å¼µæ³›é»ƒçš„åœ°åœ–å¾å¤©è€Œé™ã€‚æˆ‘æ‰“é–‹ä¸€çœ‹ï¼Œä¸Šé¢ç•«è‘—è¿·éœ§å±±ã€å°æ²³èˆ‡ä¸€å€‹ã€Œï¼Ÿã€æ¨™èªŒã€‚æˆ‘é †è‘—åœ°åœ–èµ°éèœ¿èœ’å°å¾‘ã€è¸éæœƒå”±æ­Œçš„çŸ³é ­ã€æ¸¸éä¸€æ¢è—è‰²çš„å°æ²³ã€‚çµ‚æ–¼ä¾†åˆ°åœ°åœ–æ¨™ç¤ºçš„åœ°é»ï¼Œé‚£è£¡æ“ºè‘—ä¸€å€‹å¤è€çš„å¯¶ç®±ã€‚æˆ‘å°å¿ƒåœ°æ‰“é–‹å®ƒï¼Œç«Ÿç„¶ç™¼ç¾è£¡é ­ä¸æ˜¯é‡‘å¹£ï¼Œè€Œæ˜¯ä¸€æœ¬æœƒèªªè©±çš„æ›¸ã€‚ã€Œä½ å¥½ï¼Œæˆ‘æ˜¯æ™‚é–“ä¹‹æ›¸ï¼Œå°ˆé–€æ”¶è—é€™å€‹ä¸–ç•Œä¸Šæœ€é‡è¦çš„æ•…äº‹ã€‚ã€å®ƒæº«æŸ”åœ°èªªã€‚æ›¸ç¿»åˆ°ä¸€é ï¼Œæˆ‘çœ¼å‰æµ®ç¾å¤åŸƒåŠé‡‘å­—å¡”å»ºé€ çš„éç¨‹ï¼›ä¸‹ä¸€é ï¼Œå±•ç¾æœªä¾†äººé¡åœ¨ç«æ˜Ÿå»ºç«‹åŸå¸‚ã€‚æ¯ç¿»ä¸€é ï¼Œå°±æ˜¯ä¸€å ´æ™‚ç©ºæ—…è¡Œï¼Œé‚„æœ‰å…‰å½±èˆ‡è²éŸ³é™ªä¼´ï¼Œå½·å½¿æˆ‘ä¹Ÿæˆç‚ºæ­·å²è£¡çš„ä¸€è§’ã€‚æœ€å¾Œï¼Œæ›¸åˆä¸Šäº†å°é¢ï¼Œèªªï¼šã€Œè¨˜ä½é€™äº›æ•…äº‹ï¼Œå› ç‚ºä½ å°±æ˜¯æœªä¾†çš„è¨˜éŒ„è€…ã€‚ã€æˆ‘é»é»é ­ï¼ŒæŠŠæ›¸æŠ±åœ¨æ‡·è£¡ï¼Œå›åˆ°æ£®æ—å‡ºå£ã€‚æ—©æ™¨é†’ä¾†ï¼Œæˆ‘ç™¼ç¾åºŠé‚Šå¤šäº†ä¸€å¼µæ³›é»ƒåœ°åœ–ï¼Œä¸Šé¢ç•«è‘—æˆ‘çš„å¤¢ä¸­è·¯ç·šã€‚",
                cards: ["ğŸ—ºï¸ åœ°åœ–", "ğŸ“¦ å¯¶ç®±", "ğŸ“š æœƒèªªè©±çš„æ›¸"],
                correctOrder: [0, 1, 2]
            }
        ];

        // éŠæˆ²ç‹€æ…‹
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let draggedCard = null;
        let isDrawing = false;
        let drawingEnabled = false;
        let canvas, ctx;

        // é¡¯ç¤ºèªªæ˜é 
        function showInstructions() {
            document.getElementById('cover-page').classList.add('hidden');
            document.getElementById('instructions-page').classList.remove('hidden');
        }

        // é¡¯ç¤ºé¡Œç›®é¸æ“‡é 
        function showQuestionSelect() {
            document.getElementById('instructions-page').classList.add('hidden');
            document.getElementById('question-select-page').classList.remove('hidden');
        }

        // é–‹å§‹éš¨æ©Ÿé¡Œç›®
        function startRandomQuestions() {
            // éš¨æ©Ÿé¸æ“‡3å€‹é¡Œç›®
            const shuffled = [...dreamStories].sort(() => 0.5 - Math.random());
            currentQuestions = shuffled.slice(0, 3);
            currentQuestionIndex = 0;
            
            document.getElementById('question-select-page').classList.add('hidden');
            document.getElementById('game-page').classList.remove('hidden');
            
            loadQuestion();
        }

        // è¼‰å…¥é¡Œç›®
        function loadQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            
            // æ›´æ–°é€²åº¦
            document.getElementById('progress-text').textContent = `${currentQuestionIndex + 1} / 3`;
            document.getElementById('progress-bar').style.width = `${((currentQuestionIndex + 1) / 3) * 100}%`;
            
            // æ›´æ–°æ•…äº‹å…§å®¹
            document.getElementById('story-title').textContent = question.title;
            document.getElementById('story-content').textContent = question.content;
            
            // é‡ç½®ç­”æ¡ˆå€åŸŸ
            const answerSlots = document.querySelectorAll('.drop-zone');
            answerSlots.forEach(slot => {
                slot.innerHTML = slot.dataset.position == 0 ? 'ç¬¬ä¸€å€‹' : 
                                slot.dataset.position == 1 ? 'ç¬¬äºŒå€‹' : 'ç¬¬ä¸‰å€‹';
                slot.classList.remove('bg-blue-100', 'border-blue-400');
                slot.classList.add('border-gray-300');
            });
            
            // ç”Ÿæˆæ‰“äº‚çš„å¡ç‰‡
            const cardArea = document.getElementById('card-area');
            cardArea.innerHTML = '';
            
            // æ‰“äº‚å¡ç‰‡é †åº
            const shuffledCards = [...question.cards].sort(() => 0.5 - Math.random());
            
            shuffledCards.forEach((card, index) => {
                const cardElement = document.createElement('div');
                cardElement.className = 'dream-card bg-gradient-to-br from-yellow-200 to-orange-200 p-4 rounded-xl text-center font-semibold text-gray-800 shadow-lg';
                cardElement.draggable = true;
                cardElement.textContent = card;
                cardElement.dataset.originalIndex = question.cards.indexOf(card);
                
                // æ‹–æ‹½äº‹ä»¶
                cardElement.addEventListener('dragstart', handleDragStart);
                cardElement.addEventListener('dragend', handleDragEnd);
                
                cardArea.appendChild(cardElement);
            });
            
            // é‡ç½®ç”¨æˆ¶ç­”æ¡ˆ
            userAnswers = [null, null, null];
            
            // é‡ç½®æª¢æŸ¥æŒ‰éˆ•
            document.getElementById('check-answer').disabled = true;
            document.getElementById('result-area').classList.add('hidden');
            
            // é‡ç½®ç•«ç­†ç‹€æ…‹
            drawingEnabled = false;
            const drawBtn = document.getElementById('draw-btn');
            const drawCanvas = document.getElementById('drawing-canvas');
            drawBtn.textContent = 'ğŸ–ï¸ ç•«è¨˜è™Ÿ';
            drawBtn.classList.remove('bg-red-400', 'hover:bg-red-500');
            drawBtn.classList.add('bg-yellow-400', 'hover:bg-yellow-500');
            drawCanvas.style.display = 'none';
            drawCanvas.style.pointerEvents = 'none';
            clearDrawing();
        }

        // æ‹–æ‹½é–‹å§‹
        function handleDragStart(e) {
            draggedCard = e.target;
            e.target.classList.add('dragging');
        }

        // æ‹–æ‹½çµæŸ
        function handleDragEnd(e) {
            e.target.classList.remove('dragging');
            draggedCard = null;
        }

        // è¨­ç½®æ”¾ç½®å€åŸŸäº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            const dropZones = document.querySelectorAll('.drop-zone');
            
            dropZones.forEach(zone => {
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragenter', handleDragEnter);
                zone.addEventListener('dragleave', handleDragLeave);
            });
        });

        function handleDragOver(e) {
            e.preventDefault();
        }

        function handleDragEnter(e) {
            e.preventDefault();
            e.target.classList.add('drag-over');
        }

        function handleDragLeave(e) {
            e.target.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            e.target.classList.remove('drag-over');
            
            if (draggedCard) {
                const position = parseInt(e.target.dataset.position);
                const originalIndex = parseInt(draggedCard.dataset.originalIndex);
                
                // æ›´æ–°ç­”æ¡ˆ
                userAnswers[position] = originalIndex;
                
                // æ›´æ–°é¡¯ç¤º
                e.target.innerHTML = draggedCard.textContent;
                e.target.classList.remove('border-gray-300');
                e.target.classList.add('bg-blue-100', 'border-blue-400');
                
                // éš±è—å·²ä½¿ç”¨çš„å¡ç‰‡
                draggedCard.style.opacity = '0.3';
                draggedCard.draggable = false;
                
                // æª¢æŸ¥æ˜¯å¦æ‰€æœ‰ä½ç½®éƒ½å·²å¡«æ»¿
                if (userAnswers.every(answer => answer !== null)) {
                    document.getElementById('check-answer').disabled = false;
                }
            }
        }

        // æª¢æŸ¥ç­”æ¡ˆ
        function checkAnswer() {
            const question = currentQuestions[currentQuestionIndex];
            const isCorrect = JSON.stringify(userAnswers) === JSON.stringify(question.correctOrder);
            
            const resultArea = document.getElementById('result-area');
            resultArea.classList.remove('hidden');
            
            if (isCorrect) {
                resultArea.innerHTML = `
                    <div class="correct-animation bg-green-100 border-2 border-green-400 rounded-xl p-6">
                        <div class="text-4xl mb-2">ğŸ‰</div>
                        <div class="text-xl font-bold text-green-800 mb-2">å¤ªæ£’äº†ï¼å¤¢å¢ƒå®Œæˆï¼</div>
                        <div class="text-green-700">ä½ å®Œç¾åœ°æ’åˆ—äº†å¤¢å¢ƒé †åºï¼</div>
                        <button onclick="nextQuestion()" class="mt-4 bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-2 rounded-full font-semibold hover:from-green-600 hover:to-emerald-600 transition-all duration-300">
                            ${currentQuestionIndex < 2 ? 'ä¸‹ä¸€å€‹å¤¢å¢ƒ â†’' : 'æŸ¥çœ‹çµæœ ğŸ†'}
                        </button>
                    </div>
                `;
            } else {
                resultArea.innerHTML = `
                    <div class="bg-red-100 border-2 border-red-400 rounded-xl p-6">
                        <div class="text-4xl mb-2">ğŸ˜…</div>
                        <div class="text-xl font-bold text-red-800 mb-2">å†è©¦è©¦çœ‹ï¼</div>
                        <div class="text-red-700 mb-4">å¤¢å¢ƒé †åºé‚„ä¸å¤ªå°ï¼Œé‡æ–°é–±è®€æ•…äº‹å†è©¦ä¸€æ¬¡å§ï¼</div>
                        <button onclick="resetQuestion()" class="bg-gradient-to-r from-red-500 to-pink-500 text-white px-6 py-2 rounded-full font-semibold hover:from-red-600 hover:to-pink-600 transition-all duration-300">
                            é‡æ–°æ’åˆ—
                        </button>
                    </div>
                `;
            }
        }

        // ä¸‹ä¸€é¡Œ
        function nextQuestion() {
            if (currentQuestionIndex < 2) {
                currentQuestionIndex++;
                loadQuestion();
            } else {
                showCompletion();
            }
        }

        // é‡ç½®ç•¶å‰é¡Œç›®
        function resetQuestion() {
            loadQuestion();
        }

        // é¡¯ç¤ºå®Œæˆé 
        function showCompletion() {
            document.getElementById('game-page').classList.add('hidden');
            document.getElementById('completion-page').classList.remove('hidden');
        }

        // é‡æ–°é–‹å§‹éŠæˆ²
        function restartGame() {
            document.getElementById('completion-page').classList.add('hidden');
            document.getElementById('question-select-page').classList.remove('hidden');
        }

        // å›åˆ°é¦–é 
        function backToHome() {
            document.getElementById('completion-page').classList.add('hidden');
            document.getElementById('cover-page').classList.remove('hidden');
        }

        // ç•«ç­†åŠŸèƒ½
        function toggleDrawing() {
            drawingEnabled = !drawingEnabled;
            const canvas = document.getElementById('drawing-canvas');
            const btn = document.getElementById('draw-btn');
            
            if (drawingEnabled) {
                canvas.style.display = 'block';
                canvas.style.pointerEvents = 'auto';
                btn.textContent = 'ğŸ–ï¸ é—œé–‰ç•«ç­†';
                btn.classList.remove('bg-yellow-400', 'hover:bg-yellow-500');
                btn.classList.add('bg-red-400', 'hover:bg-red-500');
                initCanvas();
            } else {
                canvas.style.pointerEvents = 'none';
                btn.textContent = 'ğŸ–ï¸ ç•«è¨˜è™Ÿ';
                btn.classList.remove('bg-red-400', 'hover:bg-red-500');
                btn.classList.add('bg-yellow-400', 'hover:bg-yellow-500');
            }
        }

        function initCanvas() {
            canvas = document.getElementById('drawing-canvas');
            ctx = canvas.getContext('2d');
            
            // è¨­ç½®ç•«å¸ƒå¤§å°
            const storyContent = document.getElementById('story-content');
            canvas.width = storyContent.offsetWidth;
            canvas.height = storyContent.offsetHeight;
            
            // è¨­ç½®ç•«ç­†æ¨£å¼
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            
            // æ·»åŠ äº‹ä»¶ç›£è½å™¨
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
        }

        function startDrawing(e) {
            if (!drawingEnabled) return;
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            ctx.beginPath();
            ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
        }

        function draw(e) {
            if (!isDrawing || !drawingEnabled) return;
            const rect = canvas.getBoundingClientRect();
            ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
            ctx.stroke();
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function clearDrawing() {
            if (canvas && ctx) {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
            }
        }

        // æ¸…é™¤æ‰€æœ‰ç­”æ¡ˆ
        function clearAllAnswers() {
            // é‡ç½®ç­”æ¡ˆå€åŸŸ
            const answerSlots = document.querySelectorAll('.drop-zone');
            answerSlots.forEach(slot => {
                slot.innerHTML = slot.dataset.position == 0 ? 'ç¬¬ä¸€å€‹' : 
                                slot.dataset.position == 1 ? 'ç¬¬äºŒå€‹' : 'ç¬¬ä¸‰å€‹';
                slot.classList.remove('bg-blue-100', 'border-blue-400');
                slot.classList.add('border-gray-300');
            });
            
            // é‡æ–°é¡¯ç¤ºæ‰€æœ‰å¡ç‰‡
            const cards = document.querySelectorAll('.dream-card');
            cards.forEach(card => {
                card.style.opacity = '1';
                card.draggable = true;
            });
            
            // é‡ç½®ç”¨æˆ¶ç­”æ¡ˆ
            userAnswers = [null, null, null];
            
            // ç¦ç”¨æª¢æŸ¥æŒ‰éˆ•
            document.getElementById('check-answer').disabled = true;
            document.getElementById('result-area').classList.add('hidden');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96bea7569615f201',t:'MTc1NDY1MjMzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
