<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LSTéŠæˆ²å®¤-ğŸ§¢ ç§‘å­¸èƒ½é‡å¸½</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        @keyframes energyWave {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.5); opacity: 0.7; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        @keyframes hatGlow {
            0% { box-shadow: 0 0 20px #00f5ff, 0 0 30px #00f5ff; }
            50% { box-shadow: 0 0 40px #00f5ff, 0 0 60px #00d4ff, 0 0 80px #00b4ff; }
            100% { box-shadow: 0 0 20px #00f5ff, 0 0 30px #00f5ff; }
        }
        
        @keyframes upgrade {
            0% { transform: scale(1) rotate(0deg); }
            25% { transform: scale(1.2) rotate(90deg); }
            50% { transform: scale(1.4) rotate(180deg); }
            75% { transform: scale(1.2) rotate(270deg); }
            100% { transform: scale(1) rotate(360deg); }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .energy-wave {
            animation: energyWave 1s ease-out;
        }
        
        .hat-glow {
            animation: hatGlow 2s ease-in-out;
        }
        
        .upgrade-effect {
            animation: upgrade 2s ease-in-out;
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
        }
        
        .futuristic-bg {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #533483 100%);
            position: relative;
        }
        
        .futuristic-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(0, 245, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(83, 52, 131, 0.1) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .neon-text {
            text-shadow: 0 0 10px #00f5ff, 0 0 20px #00f5ff, 0 0 30px #00f5ff;
        }
        
        .tech-font {
            font-family: 'Orbitron', monospace;
        }
        
        .energy-bar-glow {
            box-shadow: 0 0 20px rgba(0, 245, 255, 0.5);
        }
    </style>
</head>
<body class="futuristic-bg min-h-screen text-white relative">
    <div class="container mx-auto px-4 py-8 pb-20 relative z-10">
        <!-- éŠæˆ²æ¨™é¡Œ -->
        <div class="text-center mb-8">
            <h1 class="text-5xl font-bold mb-2 neon-text tech-font float-animation">LSTéŠæˆ²å®¤</h1>
            <h2 class="text-3xl text-cyan-300 tech-font mb-2">ğŸ§¢ ç§‘å­¸èƒ½é‡å¸½</h2>
            <h3 class="text-xl text-cyan-200">ã€Šè‡ªç„¶åæ‡‰é›·é”ã€‹</h3>
        </div>

        <!-- ç§‘å­¸å¸½å­å’Œèƒ½é‡é¡¯ç¤º -->
        <div class="flex justify-center items-center mb-8">
            <div id="scienceHat" class="relative">
                <div class="text-8xl mb-4" id="hatEmoji">ğŸ§¢</div>
                <div class="absolute inset-0 rounded-full" id="hatGlow"></div>
            </div>
            <div class="ml-8">
                <div class="text-xl mb-2 tech-font text-cyan-300">èƒ½é‡å€¼</div>
                <div class="bg-gray-800 bg-opacity-50 rounded-full h-8 w-56 border border-cyan-500 p-1">
                    <div id="energyBar" class="bg-gradient-to-r from-cyan-400 to-blue-500 h-6 rounded-full transition-all duration-500 energy-bar-glow" style="width: 0%"></div>
                </div>
                <div class="text-sm mt-2 tech-font text-cyan-200">
                    <span id="currentEnergy">0</span> / <span id="maxEnergy">5</span>
                </div>
            </div>
        </div>

        <!-- éŠæˆ²å…§å®¹å€åŸŸ -->
        <div id="gameContent" class="max-w-4xl mx-auto">
            <!-- é–‹å§‹ç•«é¢ -->
            <div id="startScreen" class="text-center">
                <div class="glass-card rounded-2xl p-8 mb-6">
                    <h3 class="text-3xl font-bold mb-4 tech-font text-cyan-300 pulse-animation">ğŸ”¬ æº–å‚™æˆ´ä¸Šç§‘å­¸èƒ½é‡å¸½ï¼</h3>
                    <p class="text-lg mb-6 text-gray-200 leading-relaxed">ä½ å°‡ç²å¾—è§€å¯Ÿè‡ªç„¶ç¾è±¡çš„è¶…èƒ½åŠ›ï¼Œå›ç­”5é“ç§‘å­¸å•é¡Œä¾†ç´¯ç©èƒ½é‡ï¼</p>
                    <button id="startBtn" class="bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 text-white font-bold py-4 px-10 rounded-xl text-xl transition-all duration-300 transform hover:scale-105 tech-font shadow-lg">
                        é–‹å§‹éŠæˆ² ğŸš€
                    </button>
                </div>
            </div>

            <!-- å­¸ç¿’é é¢ -->
            <div id="learningScreen" class="hidden">
                <div class="glass-card rounded-2xl p-8 text-center">
                    <div class="text-6xl mb-4 float-animation" id="learningIcon">ğŸŒŸ</div>
                    <h3 class="text-2xl font-bold mb-4 tech-font text-cyan-300" id="learningTitle">ç§‘å­¸ç¾è±¡</h3>
                    <p class="text-lg mb-6 text-gray-200 leading-relaxed" id="learningDescription">æº–å‚™å­¸ç¿’æ–°çš„ç§‘å­¸çŸ¥è­˜...</p>
                    <button id="continueBtn" class="bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-bold py-3 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 tech-font">
                        ç¹¼çºŒ â†’
                    </button>
                </div>
            </div>

            <!-- å•é¡Œé é¢ -->
            <div id="questionScreen" class="hidden">
                <div class="glass-card rounded-2xl p-8">
                    <div class="text-center mb-6">
                        <div class="text-sm text-cyan-300 mb-2 tech-font">ç¬¬ <span id="currentQuestion">1</span> é¡Œ / 5</div>
                        <h3 class="text-2xl font-bold text-white" id="questionText">å•é¡Œè¼‰å…¥ä¸­...</h3>
                    </div>
                    
                    <div class="space-y-4" id="optionsContainer">
                        <!-- é¸é …æœƒå‹•æ…‹ç”Ÿæˆ -->
                    </div>
                    
                    <div id="feedback" class="hidden mt-6 p-4 rounded-xl text-center glass-card">
                        <div id="feedbackText" class="text-lg font-bold mb-2 tech-font"></div>
                        <div id="explanationText" class="text-sm text-gray-200"></div>
                    </div>
                </div>
            </div>

            <!-- å®Œæˆç•«é¢ -->
            <div id="completionScreen" class="hidden text-center">
                <div class="glass-card rounded-2xl p-8">
                    <div class="text-6xl mb-4 float-animation">ğŸ‰</div>
                    <h3 class="text-3xl font-bold mb-4 tech-font text-cyan-300" id="completionTitle">æ­å–œå®Œæˆï¼</h3>
                    <p class="text-lg mb-6 text-gray-200" id="completionMessage">ä½ çš„ç§‘å­¸èƒ½é‡å¸½å·²ç¶“å……æ»¿èƒ½é‡ï¼</p>
                    <div class="space-y-4">
                        <button id="restartBtn" class="bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white font-bold py-3 px-8 rounded-xl transition-all duration-300 transform hover:scale-105 tech-font mr-4">
                            å†ç©ä¸€æ¬¡ ğŸ”„
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- åº•éƒ¨è¨­è¨ˆå¸«è³‡è¨Š -->
        <div class="fixed bottom-0 left-0 right-0 z-20">
            <div class="glass-card border-t border-cyan-500 border-opacity-30 py-3">
                <div class="container mx-auto px-4">
                    <div class="text-center text-sm text-cyan-200 tech-font">
                        éŠæˆ²è¨­è¨ˆèˆ‡è£½ä½œï¼šå‘‚èˆ’å©·ï½œ
                        <a href="#" class="text-cyan-300 hover:text-cyan-100 transition-colors">äº†è§£æ›´å¤šğŸ”</a>
                        <br class="sm:hidden">
                        <span class="hidden sm:inline">ï½œ</span>
                        è‡‰æ›¸æœå°‹ï¼šå‘‚èˆ’å©·ï½œ
                        <a href="mailto:luuyobi@gmail.com" class="text-cyan-300 hover:text-cyan-100 transition-colors">ğŸ“§ luuyobi@gmail.com</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- èƒ½é‡æ³¢å‹•ç•«æ•ˆæœ -->
        <div id="energyWaveEffect" class="fixed inset-0 pointer-events-none hidden z-30">
            <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
                <div class="w-32 h-32 border-4 border-cyan-400 rounded-full energy-wave"></div>
            </div>
        </div>
    </div>

    <script>
        // é¡Œåº«è³‡æ–™
        const questions = [
            {
                id: 1,
                question: "é¢¨ç®é£›èµ·ä¾†æ˜¯å› ç‚ºï¼Ÿ",
                icon: "ğŸª",
                learning: "ç©ºæ°£å‹•åŠ›å­¸è®“é¢¨ç®èƒ½å¤ é£›ç¿”ï¼Œç•¶é¢¨å¹éé¢¨ç®æ™‚æœƒç”¢ç”Ÿå‡åŠ›ã€‚",
                options: [
                    { text: "ç©ºæ°£å‹•åŠ›", correct: true, explanation: "é¢¨ç”¢ç”Ÿå‡åŠ›è®“é¢¨ç®é£›èµ·" },
                    { text: "è’¸ç™¼", correct: false, explanation: "å’Œé¢¨ç®ç„¡é—œ" },
                    { text: "æº¶è§£", correct: false, explanation: "èˆ‡ç‰©è³ªæº¶æ–¼æ¶²é«”æœ‰é—œ" }
                ]
            },
            {
                id: 2,
                question: "æ°´è®Šæˆæ°´è’¸æ°£æ˜¯ä»€éº¼ç¾è±¡ï¼Ÿ",
                icon: "ğŸ’¨",
                learning: "è’¸ç™¼æ˜¯æ¶²é«”è¡¨é¢çš„åˆ†å­ç²å¾—è¶³å¤ èƒ½é‡è®Šæˆæ°£é«”çš„éç¨‹ã€‚",
                options: [
                    { text: "è’¸ç™¼", correct: true, explanation: "æ°´è¡¨é¢åˆ†å­è®Šæˆæ°£é«”" },
                    { text: "é‡åŠ›", correct: false, explanation: "è®“ç‰©é«”å‘ä¸‹çš„åŠ›" },
                    { text: "æ‘©æ“¦", correct: false, explanation: "ä½¿ç‰©é«”è¡¨é¢ç”¢ç”Ÿé˜»åŠ›æˆ–ç†±" }
                ]
            },
            {
                id: 3,
                question: "æ»‘æ¢¯æ»‘å¾—å¿«ï¼Œæ˜¯å› ç‚ºä»€éº¼å°ï¼Ÿ",
                icon: "ğŸ›",
                learning: "æ‘©æ“¦åŠ›æ˜¯é˜»æ­¢ç‰©é«”ç›¸å°é‹å‹•çš„åŠ›ï¼Œæ‘©æ“¦åŠ›è¶Šå°ï¼Œç‰©é«”ç§»å‹•è¶Šå¿«ã€‚",
                options: [
                    { text: "æ‘©æ“¦åŠ›", correct: true, explanation: "æ‘©æ“¦å°ï¼Œé€Ÿåº¦å¿«" },
                    { text: "é‡åŠ›", correct: false, explanation: "æ–¹å‘ç‚ºå‘ä¸‹ï¼Œä¸æ˜¯é€Ÿåº¦å”¯ä¸€åŸå› " },
                    { text: "æº¶è§£", correct: false, explanation: "å’Œæ¶²é«”æ··åˆç‰©æœ‰é—œ" }
                ]
            },
            {
                id: 4,
                question: "å½©è™¹å‡ºç¾çš„åŸå› æ˜¯ï¼Ÿ",
                icon: "ğŸŒˆ",
                learning: "å½©è™¹æ˜¯é™½å…‰é€šéç©ºæ°£ä¸­çš„æ°´æ»´æ™‚ç™¼ç”ŸæŠ˜å°„å’Œåå°„å½¢æˆçš„å…‰å­¸ç¾è±¡ã€‚",
                options: [
                    { text: "å…‰çš„æŠ˜å°„èˆ‡åå°„", correct: true, explanation: "é™½å…‰é€²å…¥æ°´æ»´" },
                    { text: "è’¸ç™¼", correct: false, explanation: "èˆ‡æ°´è®Šæˆæ°£é«”æœ‰é—œ" },
                    { text: "é‡åŠ›", correct: false, explanation: "å’Œå…‰ç·šç¾è±¡ç„¡é—œ" }
                ]
            },
            {
                id: 5,
                question: "èˆ¹èƒ½æµ®åœ¨æ°´é¢æ˜¯å› ç‚ºï¼Ÿ",
                icon: "â›µ",
                learning: "æµ®åŠ›æ˜¯æ¶²é«”å°æµ¸å…¥å…¶ä¸­çš„ç‰©é«”ç”¢ç”Ÿå‘ä¸Šçš„æ”¯æŒåŠ›ã€‚",
                options: [
                    { text: "æµ®åŠ›", correct: true, explanation: "æ¶²é«”å°ç‰©é«”çš„å‘ä¸Šæ”¯æŒåŠ›" },
                    { text: "æ‘©æ“¦", correct: false, explanation: "èˆ‡æ°´æµé˜»åŠ›ä¸åŒ" },
                    { text: "è’¸ç™¼", correct: false, explanation: "å’Œæ°£åŒ–ä½œç”¨ç„¡é—œ" }
                ]
            },
            {
                id: 6,
                question: "è…³è¸©æ»‘æ¿ä¸‹å¡è¶Šä¾†è¶Šå¿«ï¼ŒåŸå› æ˜¯ï¼Ÿ",
                icon: "ğŸ›¹",
                learning: "é‡åŠ›æ˜¯åœ°çƒå°ç‰©é«”çš„å¸å¼•åŠ›ï¼Œæœƒè®“ç‰©é«”å‘ä¸‹åŠ é€Ÿé‹å‹•ã€‚",
                options: [
                    { text: "é‡åŠ›", correct: true, explanation: "å°‡ç‰©é«”å‘ä¸‹æ‹‰å‹•" },
                    { text: "è’¸ç™¼", correct: false, explanation: "èˆ‡æ¶²é«”æ°£åŒ–æœ‰é—œ" },
                    { text: "å…‰åå°„", correct: false, explanation: "èˆ‡è¦–è¦ºç¾è±¡æœ‰é—œ" }
                ]
            },
            {
                id: 7,
                question: "å†°å¡Šåœ¨ç†±æ°´ä¸­æœƒè®Šå°ï¼Œæ˜¯å› ç‚ºï¼Ÿ",
                icon: "ğŸ§Š",
                learning: "èåŒ–æ˜¯å›ºé«”å¸æ”¶ç†±é‡è®Šæˆæ¶²é«”çš„ç‰©ç†è®ŠåŒ–éç¨‹ã€‚",
                options: [
                    { text: "èåŒ–", correct: true, explanation: "å›ºé«”è®Šæ¶²é«”" },
                    { text: "è’¸ç™¼", correct: false, explanation: "æ¶²é«”è®Šæ°£é«”" },
                    { text: "æ‘©æ“¦", correct: false, explanation: "èˆ‡æ¥è§¸é‹å‹•æœ‰é—œ" }
                ]
            },
            {
                id: 8,
                question: "æ”¾åœ¨æ¡Œä¸Šçš„é‰›ç­†ä¸æœƒå‹•ï¼Œæ˜¯å› ç‚ºï¼Ÿ",
                icon: "âœï¸",
                learning: "éœæ‘©æ“¦åŠ›èƒ½å¤ é˜»æ­¢ç‰©é«”é–‹å§‹æ»‘å‹•ï¼Œä¿æŒç‰©é«”éœæ­¢ç‹€æ…‹ã€‚",
                options: [
                    { text: "æ‘©æ“¦åŠ›", correct: true, explanation: "é˜»æ­¢ç‰©é«”æ»‘å‹•" },
                    { text: "é‡åŠ›", correct: false, explanation: "è®“å®ƒè²¼åœ¨æ¡Œä¸Šï¼Œä½†ä¸æœƒé˜»æ­¢æ©«å‘æ»‘å‹•" },
                    { text: "è’¸ç™¼", correct: false, explanation: "ç„¡é—œ" }
                ]
            },
            {
                id: 9,
                question: "æµ·é‚Šæ½®æ°´æ¼²é€€ï¼Œæ˜¯å› ç‚ºï¼Ÿ",
                icon: "ğŸŒŠ",
                learning: "æœˆçƒçš„å¼•åŠ›ä½œç”¨åœ¨åœ°çƒçš„æµ·æ°´ä¸Šï¼Œé€ æˆæ½®æ±ç¾è±¡ã€‚",
                options: [
                    { text: "æœˆçƒå¼•åŠ›", correct: true, explanation: "å¼•èµ·æ½®æ±ç¾è±¡" },
                    { text: "è’¸ç™¼", correct: false, explanation: "èˆ‡æ°´æ°£åŒ–æœ‰é—œ" },
                    { text: "æº¶è§£", correct: false, explanation: "å’Œç‰©è³ªæ··åˆæœ‰é—œ" }
                ]
            },
            {
                id: 10,
                question: "ç³–æ”¾é€²æ°´è£¡æ¶ˆå¤±ï¼Œæ˜¯å› ç‚ºï¼Ÿ",
                icon: "ğŸ¯",
                learning: "æº¶è§£æ˜¯å›ºé«”ç‰©è³ªå‡å‹»åˆ†æ•£åˆ°æ¶²é«”ä¸­å½¢æˆæº¶æ¶²çš„éç¨‹ã€‚",
                options: [
                    { text: "æº¶è§£", correct: true, explanation: "ç‰©è³ªåˆ†æ•£åˆ°æ°´ä¸­" },
                    { text: "è’¸ç™¼", correct: false, explanation: "æ°£åŒ–" },
                    { text: "æ‘©æ“¦", correct: false, explanation: "é˜»åŠ›" }
                ]
            }
        ];

        // éŠæˆ²ç‹€æ…‹
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let energy = 0;
        let correctAnswers = 0;

        // DOM å…ƒç´ 
        const startScreen = document.getElementById('startScreen');
        const learningScreen = document.getElementById('learningScreen');
        const questionScreen = document.getElementById('questionScreen');
        const completionScreen = document.getElementById('completionScreen');
        const energyBar = document.getElementById('energyBar');
        const currentEnergySpan = document.getElementById('currentEnergy');
        const scienceHat = document.getElementById('scienceHat');
        const energyWaveEffect = document.getElementById('energyWaveEffect');

        // é–‹å§‹éŠæˆ²
        document.getElementById('startBtn').addEventListener('click', startGame);
        document.getElementById('continueBtn').addEventListener('click', showQuestion);
        document.getElementById('restartBtn').addEventListener('click', restartGame);

        function startGame() {
            // éš¨æ©Ÿé¸æ“‡5é¡Œ
            currentQuestions = getRandomQuestions(5);
            currentQuestionIndex = 0;
            energy = 0;
            correctAnswers = 0;
            updateEnergyDisplay();
            
            startScreen.classList.add('hidden');
            showLearning();
        }

        function getRandomQuestions(count) {
            const shuffled = [...questions].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        function showLearning() {
            const question = currentQuestions[currentQuestionIndex];
            
            document.getElementById('learningIcon').textContent = question.icon;
            document.getElementById('learningTitle').textContent = 'ç§‘å­¸å°çŸ¥è­˜';
            document.getElementById('learningDescription').textContent = question.learning;
            
            learningScreen.classList.remove('hidden');
            questionScreen.classList.add('hidden');
        }

        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            document.getElementById('questionText').textContent = question.question;
            
            // ç”Ÿæˆé¸é …
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'w-full p-4 text-left glass-card hover:bg-white hover:bg-opacity-10 rounded-xl transition-all duration-300 transform hover:scale-102 border border-cyan-500 border-opacity-30 hover:border-opacity-60 tech-font text-gray-200 hover:text-white';
                button.textContent = `${String.fromCharCode(65 + index)}. ${option.text}`;
                button.addEventListener('click', () => selectAnswer(option, button));
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('feedback').classList.add('hidden');
            learningScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
        }

        function selectAnswer(selectedOption, buttonElement) {
            // ç¦ç”¨æ‰€æœ‰æŒ‰éˆ•
            const buttons = document.querySelectorAll('#optionsContainer button');
            buttons.forEach(btn => btn.disabled = true);
            
            // é¡¯ç¤ºåé¥‹
            const feedback = document.getElementById('feedback');
            const feedbackText = document.getElementById('feedbackText');
            const explanationText = document.getElementById('explanationText');
            
            if (selectedOption.correct) {
                buttonElement.classList.add('bg-gradient-to-r', 'from-green-500', 'to-emerald-600', 'border-green-400');
                feedbackText.textContent = 'âœ… ç­”å°äº†ï¼';
                feedbackText.className = 'text-lg font-bold mb-2 text-green-300 tech-font';
                explanationText.textContent = selectedOption.explanation;
                
                // å¢åŠ èƒ½é‡
                energy++;
                correctAnswers++;
                updateEnergyDisplay();
                showEnergyWave();
                glowHat();
                
            } else {
                buttonElement.classList.add('bg-gradient-to-r', 'from-red-500', 'to-pink-600', 'border-red-400');
                feedbackText.textContent = 'âŒ ç­”éŒ¯äº†';
                feedbackText.className = 'text-lg font-bold mb-2 text-red-300 tech-font';
                explanationText.textContent = selectedOption.explanation;
                
                // é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ
                buttons.forEach((btn, index) => {
                    const question = currentQuestions[currentQuestionIndex];
                    if (question.options[index].correct) {
                        btn.classList.add('bg-gradient-to-r', 'from-green-500', 'to-emerald-600', 'border-green-400');
                    }
                });
            }
            
            feedback.classList.remove('hidden');
            
            // 2ç§’å¾Œç¹¼çºŒä¸‹ä¸€é¡Œ
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < currentQuestions.length) {
                    showLearning();
                } else {
                    showCompletion();
                }
            }, 3000);
        }

        function updateEnergyDisplay() {
            const percentage = (energy / 5) * 100;
            energyBar.style.width = percentage + '%';
            currentEnergySpan.textContent = energy;
        }

        function showEnergyWave() {
            energyWaveEffect.classList.remove('hidden');
            setTimeout(() => {
                energyWaveEffect.classList.add('hidden');
            }, 1000);
        }

        function glowHat() {
            scienceHat.classList.add('hat-glow');
            setTimeout(() => {
                scienceHat.classList.remove('hat-glow');
            }, 2000);
        }

        function showCompletion() {
            questionScreen.classList.add('hidden');
            
            const completionTitle = document.getElementById('completionTitle');
            const completionMessage = document.getElementById('completionMessage');
            
            if (correctAnswers === 5) {
                completionTitle.textContent = 'ğŸ‰ å®Œç¾ï¼å¸½å­å‡ç´šï¼';
                completionMessage.textContent = 'ä½ å…¨éƒ¨ç­”å°äº†ï¼ç§‘å­¸èƒ½é‡å¸½å·²ç¶“å‡ç´šåˆ°æœ€é«˜ç­‰ç´šï¼';
                scienceHat.classList.add('upgrade-effect');
                document.getElementById('hatEmoji').textContent = 'ğŸ‘‘';
            } else if (correctAnswers >= 3) {
                completionTitle.textContent = 'ğŸŒŸ è¡¨ç¾ä¸éŒ¯ï¼';
                completionMessage.textContent = `ä½ ç­”å°äº† ${correctAnswers} é¡Œï¼ç§‘å­¸èƒ½é‡å¸½ç²å¾—äº†ä¸å°‘èƒ½é‡ï¼`;
            } else {
                completionTitle.textContent = 'ğŸ’ª ç¹¼çºŒåŠªåŠ›ï¼';
                completionMessage.textContent = `ä½ ç­”å°äº† ${correctAnswers} é¡Œï¼Œå†æ¥å†å²ï¼`;
            }
            
            completionScreen.classList.remove('hidden');
        }

        function restartGame() {
            completionScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            scienceHat.classList.remove('upgrade-effect');
            document.getElementById('hatEmoji').textContent = 'ğŸ§¢';
            energy = 0;
            updateEnergyDisplay();
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96beeb3eb068f20d',t:'MTc1NDY1NTExNC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
